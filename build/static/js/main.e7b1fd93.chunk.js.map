{"version":3,"sources":["components/EditServiceModal/ImageResize.js","components/EditServiceModal/quill-video-resize.js","components/EditServiceModal/ReviewForm.js","components/EditServiceModal/EditServiceModal.js","components/AddServiceModal/ImageResize.js","components/AddServiceModal/quill-video-resize.js","components/AddServiceModal/ReviewForm.js","components/AddServiceModal/AddServiceModal.js","components/Header.js","components/Menu.js","components/Footer.js","pages/QlDichvu.js","components/AddNewModal/ImageResize.js","components/AddNewModal/quill-video-resize.js","components/AddNewModal/ReviewForm.js","components/AddNewModal/AddNewModal.js","components/EditNewModal/ImageResize.js","components/EditNewModal/quill-video-resize.js","components/EditNewModal/ReviewForm.js","components/EditNewModal/EditNewModal.js","pages/QlTintuc.js","components/EditUserModal.js","components/AddUserModal.js","pages/QlUser.js","components/EditVoucherModal.js","components/AddVoucherModal.js","pages/QlKhuyenMai.js","pages/QlDonDatHang.js","components/EditServiceModal.js","components/AddServiceModal.js","pages/LoginPage.js","components/PrivateRouter.js","context/auth.js","pages/ThongKe.js","App.js","pages/PageNotFound.js","reportWebVitals.js","index.js"],"names":["ImageResize","quill","options","this","handleClick","bind","handleMousedown","handleMouseup","handleDrag","checkImage","boxes","document","execCommand","root","addEventListener","evt","target","tagName","toUpperCase","img","hide","show","showResizers","showSizeDisplay","rect","getBoundingClientRect","positionBoxes","positionSizeDisplay","hideResizers","undefined","setUserSelect","addBox","removeEventListener","setCursor","forEach","box","body","removeChild","dragBox","dragStartX","preDragWidth","cursor","createElement","styles","position","height","width","backgroundColor","border","boxSizing","opacity","extend","style","handleStyles","appendChild","push","destination","sources","source","prop","hasOwnProperty","left","top","pos","idx","Math","round","window","pageYOffset","pageXOffset","clientX","naturalWidth","value","documentElement","el","displaySize","display","font","padding","textAlign","color","displayStyles","size","getCurrentSize","innerHTML","join","dispRect","naturalHeight","BlockEmbed","Quill","import","Parchment","ATTRIBUTES","nubStyles","tLeft","tRight","right","bLeft","bottom","bRight","createSpacer","spacer","VideoBuilder","src","node","iframe","setAttribute","className","getAttribute","wrapper","setTimeout","parentElement","insertBefore","getElementsByTagName","overlay","event","rootElement","sel","matches","matchesSelector","call","getClosest","find","Video","domNode","builder","select","selectedElement","indexOf","setSelection","buildResize","handelDeselect","deselect","clearNubEvents","firstChild","toolbarWrapper","toolbar","addToolBarActions","buildAction","type","button","offset","scroll","format","key","dragHandeler","mouseUp","handelMouseUp","mouseDown","nub","buildNub","Object","assign","dragStartY","clientY","parseInt","preDragHeight","deltaX","deltaY","include_nub","name","removeAttribute","buildIFrame","buildOverlay","buildNode","reduce","formats","attribute","hasAttribute","blotName","register","acceptedFileTypes","acceptedFileTypesArray","split","map","item","trim","ReviewForm","props","handleSubmit","preventDefault","token","JSON","parse","localStorage","getItem","fetch","idEdit","method","headers","Accept","stringify","price","description","image","state","imagePreviews","typeEdit","then","res","json","result","alert","status","refreshList","onHide","handleChange","setState","content","verifyFiles","files","length","currentFile","currentFileType","includes","onFileDropped","acceptedFiles","rejectedFiles","uploadedFiles","filesPreview","reader","FileReader","readAsDataURL","handleRemove","index","listPreviews","update","listUpload","splice","tag","title","linkEdit","imageEdit","fileName","onDrop","id","accept","multiple","Form","onSubmit","Group","controlId","Control","placeholder","required","onChange","e","defaultValue","priceEdit","renderDropZone","Container","Row","imgSrc","onClick","nameEdit","controlID","Label","as","descriptionEdit","rows","Button","variant","React","Component","EditServiceModal","snackbarClose","snackbaropen","snackbarmsg","Modal","aria-labelledby","centered","Header","closeButton","Title","Body","Col","md","Footer","AddServiceModal","data-widget","role","Menu","fullname","clear","alt","to","data-accordion","logout","href","QlDichvu","isLoading","axios","get","sevices","data","catch","error","message","addModalShow","editModalShow","serviceID","confirm","myHeaders","Headers","append","redirect","response","console","log","nameModal","descriptionModal","priceModal","idModal","typeModal","imageModal","editModalClose","class","service","idService","deleteService","diskplay","attachQuillRefs","onMount","reactQuill","getEditor","thumbnail","link","removeVietnameseFromString","toRefesh","str","replace","toLowerCase","modules","header","list","indent","clipboard","matchVisual","history","delay","maxStack","userOnly","imageResize","theme","ref","AddNewModal","contentEdit","thumbnailEdit","titleEdit","tagEdit","EditNewModal","QlTintuc","news","deleteBlog","titleModal","tagModal","thumbnailModal","linkModal","contentModal","blogID","by","EditUserModal","tokenEdit","fullName","email","numberPhone","passWord","sm","fullNameEdit","emailEdit","numberPhoneEdit","passWordEdit","roleEdit","AddUserModal","QlUser","userFilter","users","filter","beforeFilter","user","change","tokenUser","requestOptions","deleteUser","EditVoucherModal","startDate","endDate","date","Date","mnth","getMonth","slice","getDate","getFullYear","voucherCode","voucherCodeEdit","begin","converts","_d","end","startDateId","endDateId","onDatesChange","focusedInput","onFocusChange","readOnly","AddVoucherModal","QlKhuyenMai","vouchers","voucherCodeModal","convertsTime","time","dArr","voucher","deleteVoucher","QlDonDatHang","orders","ordersFilter","order","text","totalPrice","x","toLocaleString","currency","checkin","payout","timeBooked","renderButton1","renderButton2","LoginPage","stopLoading","loading","startLoading","redirectLogined","isLogined","redirectStart","numberphone","password","require","url","toString","setItem","PrivateRouter","component","rest","render","pathname","AuthContext","createContext","ThongKe","getTime","dd","year","month","mm","yyyy","dd1","mm1","yyyy1","fromDate","filterPayoutSuccess","idServiceArr","nameServiceArr","countServiceArr","totalServiceArr","moneyServiceArr","voucherArr","byType","listType","parseFloat","orderFilter","allData","orderLastest","filterPayoutSuccessOnChange","onChangeFilter","filterKey","updateChecked","checked","defaultMonthYear","defaultYear","defaultyyyy","onChangeMonth","onChangeYear2","onChangeYear","d","monthNow","yearNow","FormControl","FormLabel","RadioGroup","row","aria-label","FormControlLabel","control","Radio","label","labels","datasets","legend","App","Provider","path","qlDonDatHang","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e7b1fd93.chunk.js","sourcesContent":["/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport class ImageResize {\n\n  constructor(quill, options = {}) {\n    // save the quill reference and options\n    this.quill = quill;\n    this.options = options;\n    // bind handlers to this instance\n    this.handleClick = this.handleClick.bind(this);\n    this.handleMousedown = this.handleMousedown.bind(this);\n    this.handleMouseup = this.handleMouseup.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.checkImage = this.checkImage.bind(this);\n    // track resize handles\n    this.boxes = [];\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false');\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false);\n  }\n\n  handleClick(evt) {\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\n      if (this.img === evt.target) {\n        // we are already focused on this image\n        return;\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide();\n      }\n      // clicked on an image inside the editor\n      this.show(evt.target);\n    }\n    else if (this.img) {\n      // clicked on a non image\n      this.hide();\n    }\n  }\n\n  show(img) {\n    // keep track of this img element\n    this.img = img;\n    this.showResizers();\n    this.showSizeDisplay();\n    // position the resize handles at the corners\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  hide() {\n    this.hideResizers();\n    // this.hideSizeDisplay();\n    this.img = undefined;\n  }\n\n  showResizers() {\n    // prevent spurious text selection\n    this.setUserSelect('none');\n    // add 4 resize handles\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true);\n    this.quill.root.addEventListener('input', this.checkImage, true);\n  }\n\n  hideResizers() {\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage);\n    this.quill.root.removeEventListener('input', this.checkImage);\n    // reset user-select\n    this.setUserSelect('');\n    this.setCursor('');\n    // remove boxes\n    this.boxes.forEach(box => document.body.removeChild(box));\n    // release memory\n    this.dragBox = undefined;\n    this.dragStartX = undefined;\n    this.preDragWidth = undefined;\n    this.boxes = [];\n  }\n\n  addBox(cursor) {\n    // create div element for resize handle\n    const box = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      height: '12px',\n      width: '12px',\n      backgroundColor: 'white',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: cursor,\n    };\n    this.extend(box.style, styles, this.options.handleStyles || {});\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false);\n    // add drag handle to document\n    document.body.appendChild(box);\n    // keep track of drag handle\n    this.boxes.push(box);\n  }\n\n  extend(destination, ...sources) {\n    sources.forEach(source => {\n      for (let prop in source) {\n        if (source.hasOwnProperty(prop)) {\n          destination[prop] = source[prop];\n        }\n      }\n    });\n    return destination;\n  }\n\n  positionBoxes(rect) {\n    // set the top and left for each drag handle\n    [\n      { left: rect.left - 6,              top: rect.top - 6 },               // top left\n      { left: rect.left + rect.width - 6, top: rect.top - 6 },               // top right\n      { left: rect.left + rect.width - 6, top: rect.top + rect.height - 6 }, // bottom right\n      { left: rect.left - 6,              top: rect.top + rect.height - 6 }, // bottom left\n    ].forEach((pos, idx) => {\n      this.extend(this.boxes[idx].style, {\n        top: Math.round(pos.top + window.pageYOffset) + 'px',\n        left: Math.round(pos.left + window.pageXOffset) + 'px',\n      });\n    });\n  }\n\n  handleMousedown(evt) {\n    // note which box\n    this.dragBox = evt.target;\n    // note starting mousedown position\n    this.dragStartX = evt.clientX;\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor);\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false);\n    document.addEventListener('mouseup', this.handleMouseup, false);\n  }\n\n  handleMouseup() {\n    // reset cursor everywhere\n    this.setCursor('');\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n  }\n\n  handleDrag(evt) {\n    if (!this.img) {\n      // image not set yet\n      return;\n    }\n    // update image size\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; draging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - evt.clientX - this.dragStartX);\n    }\n    else {\n      // right-side resize handler; draging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + evt.clientX - this.dragStartX);\n    }\n    // reposition the drag handles around the image\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  setUserSelect(value) {\n    [\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect'\n    ].forEach(prop => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  }\n\n  setCursor(value) {\n    [\n      document.body,\n      this.img,\n      this.quill.root\n    ].forEach(el => el.style.cursor = value);\n  }\n\n  checkImage() {\n    if (this.img) {\n      this.hide();\n    }\n  }\n\n  showSizeDisplay() {\n    if (!this.options.displaySize) {\n      return;\n    }\n    this.display = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      font: '12px/1.0 Arial, Helvetica, sans-serif',\n      padding: '4px 8px',\n      textAlign: 'center',\n      backgroundColor: 'white',\n      color: '#333',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: 'default',\n    };\n    this.extend(this.display.style, styles, this.options.displayStyles || {});\n    document.body.appendChild(this.display);\n  }\n\n  hideSizeDisplay() {\n    document.body.removeChild(this.display);\n    this.display = undefined;\n  }\n\n  positionSizeDisplay(rect) {\n    if (!this.display || !this.img) {\n      return;\n    }\n    const size = this.getCurrentSize();\n    this.display.innerHTML = size.join(' &times; ');\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      const dispRect = this.display.getBoundingClientRect();\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset - dispRect.width - 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset - dispRect.height - 8) + 'px',\n      });\n    }\n    else {\n      // position off bottom right\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset + 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset + 8) + 'px',\n      });\n    }\n  }\n\n  getCurrentSize() {\n    return [\n      this.img.width,\n      Math.round(this.img.width / this.img.naturalWidth * this.img.naturalHeight),\n    ];\n  }\n\n}\n","import { Quill } from 'react-quill'\nconst BlockEmbed = Quill.import('blots/block/embed');\nconst Parchment = Quill.import('parchment');\nconst ATTRIBUTES = [ 'height', 'width' ];\n\nconst nubStyles = {\n  tLeft: {\n    top: '-5px',\n    left: '-5px',\n  },\n  tRight: {\n    top: '-5px',\n    right: '-5px',\n  },\n  bLeft: {\n    bottom: '-5px',\n    left: '-5px',\n  },\n  bRight: {\n    bottom: '-5px',\n    right: '-5px',\n  },\n}\n\nconst getClosest = (el, sel) => {\n  while ((el = el.parentElement) && !((el.matches || el.matchesSelector).call(el, sel)));\n  return el;\n}\n\nconst createSpacer = () => {\n  let spacer = document.createElement('div')\n  spacer.appendChild(document.createElement('br'));\n  return spacer\n}\n\nclass VideoBuilder {\n\n  buildIFrame(src, node) {\n    let iframe = document.createElement('iframe');\n    iframe.setAttribute('frameborder', '0');\n    iframe.setAttribute('allowfullscreen', true);\n    iframe.className = 'td-quill-video-editing'\n    iframe.setAttribute('width', node.getAttribute('width') || 300);\n    iframe.setAttribute('height', node.getAttribute('height') || 150);\n    iframe.setAttribute('src', src);\n    return iframe;\n  }\n\n  buildNode(node, wrapper) {\n    node.appendChild(wrapper);\n    setTimeout(() => {\n      node.setAttribute('contenteditable', 'false');\n      node.parentElement && node.parentElement.insertBefore(createSpacer(), node)\n      node.parentElement && node.parentElement.appendChild(createSpacer());\n      let iframe = node.getElementsByTagName('iframe')[0];\n      iframe.setAttribute('width', node.getAttribute('width') || 300);\n      iframe.setAttribute('height', node.getAttribute('height') || 150);\n    }, 0);\n    return node;\n  }\n\n  buildOverlay() {\n    let overlay = document.createElement('div');\n    overlay.setAttribute('class', \"td-quill-video-overlay\");\n    overlay.setAttribute('contenteditable', 'false');\n    overlay.addEventListener('click', (event) => {\n      let rootElement = getClosest(overlay, \".ql-editor\");\n      if(rootElement && rootElement.quill){\n        let node = Parchment.find(overlay.parentElement.parentElement);\n        if (node instanceof Video) {\n          node.domNode.builder.select(overlay, rootElement.quill, node);\n        }\n      }\n    });\n\n    return overlay;\n  }\n\n  select(overlay, quill, node) {\n\n    this.selectedElement = overlay;\n    if (this.selectedElement.className.indexOf('active') === -1){\n      this.quill = quill;\n      this.quill.setSelection(null);\n      this.parentElement = this.selectedElement.parentElement;\n      this.node = node;\n      this.iframe = this.parentElement.getElementsByTagName('iframe')[0];\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay active')\n      //let toolBar = this.buildToolBar();\n      //this.selectedElement.appendChild(toolBar);\n      this.buildResize();\n      this.handelDeselect = this.deselect.bind(this);\n      this.quill.root.addEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  deselect(event) {\n    if (event.target !== this.selectedElement) {\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay');\n      this.clearNubEvents(true);\n      while (this.selectedElement.firstChild) { this.selectedElement.removeChild(this.selectedElement.firstChild); }\n      this.selectedElement = null;\n      this.quill.root.removeEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  buildToolBar() {\n    let toolbarWrapper = document.createElement('div');\n    toolbarWrapper.className = \"td-quill-video-toolbar-wrapper\"\n    let toolbar = document.createElement('div');\n    toolbar.className = \"td-quill-video-toolbar\"\n    toolbar = this.addToolBarActions(toolbar);\n    toolbarWrapper.appendChild(toolbar);\n    return toolbarWrapper;\n  }\n\n  addToolBarActions(toolbar) {\n    toolbar.appendChild(this.buildAction('left'));\n    toolbar.appendChild(this.buildAction('center'));\n    toolbar.appendChild(this.buildAction('right'));\n    return toolbar;\n  }\n\n  buildAction(type) {\n    const button = document.createElement('span');\n    button.className = `td-quill-video-align-action td-quill-video-${type}`;\n    button.innerHTML = `<i class=\"fa fa-align-${type} td-align-${type}\" aria-hidden=\"true\"></i>`;\n    button.addEventListener('click', () => {\n      this.quill.setSelection(this.node.offset(this.quill.scroll), 1, 'user');\n      if (type === 'left') { return this.quill.format('align', null); }\n      this.quill.format('align', type);\n      this.quill.setSelection(null);\n    });\n    return button;\n  }\n\n  buildResize(){\n    this.boxes = [];\n    this.dragHandeler = this.handleDrag.bind(this);\n    this.mouseUp = this.handelMouseUp.bind(this);\n    this.mouseDown = this.handleMousedown.bind(this);\n    for(let key in nubStyles){\n      let nub = this.buildNub(key);\n      this.boxes.push(nub);\n      this.selectedElement.appendChild(nub);\n    }\n    return this.selectedElement;\n  }\n\n  buildNub(pos) {\n    let nub = document.createElement('span');\n    nub.className = 'td-quill-resize-nub';\n    Object.assign(nub.style, nubStyles[pos])\n    nub.addEventListener('mousedown', this.mouseDown, false);\n    return nub;\n  }\n\n  handleMousedown(event){\n    this.dragBox = event.target;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.preDragWidth = parseInt(this.iframe.width, 10) || 300;\n    this.preDragHeight = parseInt(this.iframe.height, 10) || 150;\n    document.addEventListener('mousemove', this.dragHandeler, false);\n    document.addEventListener('mouseup', this.mouseUp, false);\n  };\n\n  handleDrag(event){\n    if (!this.iframe) { return; }\n    const deltaX = event.clientX - this.dragStartX;\n    const deltaY = event.clientY - this.dragStartY;\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[2]) {\n      this.iframe.width = Math.round(this.preDragWidth - deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n    else {\n      this.iframe.width = Math.round(this.preDragWidth + deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n  }\n\n  handelMouseUp(event){\n    this.clearNubEvents();\n  }\n\n  clearNubEvents(include_nub){\n    for(let nub in this.boxes){\n      document.removeEventListener('mousemove', this.dragHandeler, false);\n      document.removeEventListener('mouseup', this.mouseUp, false);\n      if (include_nub){\n        this.boxes[nub].removeEventListener('mousedown', this.handleMousedown, false);\n      }\n    }\n  }\n\n}\n\nclass Video extends BlockEmbed {\n\n  static create(src) {\n    let node = super.create();\n    node.builder = new VideoBuilder();\n    let wrapper = document.createElement('div');\n    wrapper.className = 'td-quill-video-wrapper';\n    let iframe = node.builder.buildIFrame(src, node);\n    let overlay = node.builder.buildOverlay();\n    wrapper.appendChild(iframe);\n    wrapper.appendChild(overlay);\n    return node.builder.buildNode(node, wrapper);\n  }\n\n  static formats(domNode) {\n    let iframe = domNode.getElementsByTagName('iframe')[0];\n    return ATTRIBUTES.reduce(function (formats, attribute) {\n      if (iframe.hasAttribute(attribute)) {\n        formats[attribute] = iframe.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static value(domNode) {\n    return domNode.getElementsByTagName('iframe')[0].getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) { this.domNode.setAttribute(name, value); }\n      else { this.domNode.removeAttribute(name); }\n    }\n    else { super.format(name, value); }\n  }\n\n}\nVideo.blotName = 'video';\nVideo.className = 'td-video';\nVideo.tagName = 'div';\n\nexport { Video }\n","import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Container, Row } from \"react-bootstrap\";\nimport Dropzone from \"react-dropzone\";\nimport update from \"immutability-helper\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport { ImageResize } from \"./ImageResize\";\nimport { Video } from \"./quill-video-resize\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./index.css\";\n\nQuill.register(\"modules/imageResize\", ImageResize);\nQuill.register({ \"formats/video\": Video });\n\nconst imageMaxSize = 1000000000; //bytes\nconst acceptedFileTypes =\n  \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\";\nconst acceptedFileTypesArray = acceptedFileTypes\n  .split(\",\")\n  .map((item) => item.trim());\n\nclass ReviewForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedFiles: [],\n      tag: \"\",\n      title: \"\",\n      content: \"\",\n      description: \"\",\n      linkEdit: \"\",\n      idEdit: \"\",\n      imagePreviews: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      idEdit: this.props.idEdit,\n      typeEdit:this.props.typeEdit,\n      imagePreviews: [this.props.imageEdit],\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let token = JSON.parse(localStorage.getItem(\"data\")).token;\n    fetch(\n      \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/service/\" +\n        token +\n        \"/update/\" +\n        this.props.idEdit,\n      {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          price: event.target.price.value,\n          name: event.target.name.value,\n          description: event.target.description.value,\n          image: this.state.imagePreviews[0],\n          type: this.state.typeEdit,\n        }),\n      }\n    )\n      .then((res) => res.json())\n      .then((result) => {\n        alert(JSON.stringify(result.status));\n        this.props.refreshList();\n        this.props.onHide();\n      });\n  };\n  handleChange = (value) => {\n    this.setState({\n      content: value,\n    });\n  };\n\n  verifyFiles = (files) => {\n    if (files && files.length > 0) {\n      let currentFile = files[0];\n      let currentFileType = currentFile.type;\n      let currentFileSize = currentFile.size;\n\n      if (currentFileSize > imageMaxSize) {\n        return false;\n      }\n\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  onFileDropped = (acceptedFiles, rejectedFiles) => {\n    let files = this.state.uploadedFiles;\n    let filesPreview = this.state.imagePreviews;\n    if (this.verifyFiles(acceptedFiles)) {\n      files.push(acceptedFiles[0]);\n\n      let currentFile = acceptedFiles[0];\n      let reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        filesPreview.push(reader.result);\n        this.setState({\n          imagePreviews: filesPreview,\n        });\n      });\n      reader.readAsDataURL(currentFile);\n\n      this.setState({\n        uploadedFiles: files || null,\n      });\n    }\n  };\n\n  handleRemove = (index) => {\n    let listPreviews = update(this.state.imagePreviews, {});\n    let listUpload = update(this.state.uploadedFiles, {});\n    if (listPreviews.length > 0 && listUpload.length > 0) {\n      listPreviews.splice(index, 1);\n      listUpload.splice(index, 1);\n      this.setState({\n        imagePreviews: listPreviews,\n        uploadedFiles: listUpload,\n      });\n    }\n  };\n\n  renderDropZone(fileName) {\n    return (\n      <Dropzone\n        onDrop={this.onFileDropped}\n        id=\"dropzone-upload-component\"\n        accept={acceptedFileTypes}\n        multiple={false}\n      >\n        <div>{fileName}</div>\n      </Dropzone>\n    );\n  }\n\n  render() {\n    let fileName = \"Upload Thumbnail\";\n    const modulesQill = {\n      toolbar: [\n        [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n        [{ size: [] }],\n        [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n        [\n          { list: \"ordered\" },\n          { list: \"bullet\" },\n          { indent: \"-1\" },\n          { indent: \"+1\" },\n        ],\n        [\"link\", \"image\", \"video\"],\n        [\"clean\"],\n      ],\n      clipboard: {\n        matchVisual: false,\n      },\n      history: {\n        delay: 1000,\n        maxStack: 50,\n        userOnly: false,\n      },\n      imageResize: {\n        displayStyles: {\n          backgroundColor: \"black\",\n          border: \"none\",\n          color: \"white\",\n        },\n        modules: [\"Resize\", \"DisplaySize\", \"Toolbar\"],\n      },\n    };\n    const formats = [\n      \"header\",\n      \"font\",\n      \"size\",\n      \"bold\",\n      \"italic\",\n      \"underline\",\n      \"strike\",\n      \"blockquote\",\n      \"list\",\n      \"bullet\",\n      \"indent\",\n      \"link\",\n      \"image\",\n      \"video\",\n    ];\n    let imagePreviews = this.state.imagePreviews;\n    return (\n      <div>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group controlId=\"price\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Nhập Giá\"\n              required\n              onChange={(e) => this.setState({ price: e.target.value })}\n              defaultValue={this.props.priceEdit}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"upload-image\">\n            {this.renderDropZone(fileName)}\n            <Container>\n              <Row>\n                {imagePreviews.length > 0\n                  ? imagePreviews.map((imgSrc, index) => {\n                      return (\n                        <div key={index} className=\"img-inline\">\n                          <img src={imgSrc} className=\"img-preview\" />\n                          <i onClick={() => this.handleRemove(index)}>✘</i>\n                        </div>\n                      );\n                    })\n                  : \"\"}\n              </Row>\n            </Container>\n          </Form.Group>\n          <Form.Group controlId=\"name\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Tên Dịch Vụ\"\n              required\n              onChange={(e) => this.setState({ name: e.target.value })}\n              defaultValue={this.props.nameEdit}\n            />\n          </Form.Group>\n\n          <Form.Group controlID=\"type\">\n            <Form.Label>Kiểu Dịch Vụ</Form.Label>\n            <Form.Control\n              as=\"select\"\n              name=\"type\"\n              onChange={(e) => this.setState({ typeEdit: e.target.value })}\n              defaultValue={this.props.typeEdit}\n              required\n            >\n              {/* \"combo\",\"cat\",\"uon\",\"nhuom\" */}\n              <option value=\"combo\">Combo</option>\n              <option value=\"cat\">Cắt Tóc</option>\n              <option value=\"uon\">Uốn Tóc</option>\n              <option value=\"nhuom\">Nhuộm Tóc</option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Control\n              type=\"text\"\n              name=\"description\"\n              onChange={(e) => this.setState({ description: e.target.value })}\n              placeholder=\"Nhập Mô Tả\"\n              defaultValue={this.props.descriptionEdit}\n              as=\"textarea\"\n              rows={3}\n            />\n          </Form.Group>\n          <br />\n          <br />\n          <br />\n          <Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n              Cập Nhật\n            </Button>\n          </Form.Group>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default ReviewForm;\n","import React, { Component } from \"react\";\r\nimport { Modal, Button, Row, Col, Form } from \"react-bootstrap\";\r\nimport ReviewForm from \"./ReviewForm\";\r\n\r\nclass EditServiceModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { snackbaropen: false, snackbarmsg: \"\" };\r\n  }\r\n\r\n  snackbarClose = (event) => {\r\n    this.setState({ snackbaropen: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Modal\r\n          {...this.props}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n              Thêm dịch vụ\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={1}></Col>\r\n              <Col md={10}>\r\n                <ReviewForm\r\n                  show={this.props.show}\r\n                  onHide={this.props.onHide}\r\n                  nameEdit={this.props.nameEdit}\r\n                  imageEdit={this.props.imageEdit}\r\n                  idEdit={this.props.idEdit}\r\n                  priceEdit={this.props.priceEdit}\r\n                  typeEdit={this.props.typeEdit}\r\n                  descriptionEdit={this.props.descriptionEdit}\r\n                  refreshList={this.props.refreshList}\r\n                />\r\n              </Col>\r\n              <Col md={1}></Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default EditServiceModal;\r\n","/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport class ImageResize {\n\n  constructor(quill, options = {}) {\n    // save the quill reference and options\n    this.quill = quill;\n    this.options = options;\n    // bind handlers to this instance\n    this.handleClick = this.handleClick.bind(this);\n    this.handleMousedown = this.handleMousedown.bind(this);\n    this.handleMouseup = this.handleMouseup.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.checkImage = this.checkImage.bind(this);\n    // track resize handles\n    this.boxes = [];\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false');\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false);\n  }\n\n  handleClick(evt) {\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\n      if (this.img === evt.target) {\n        // we are already focused on this image\n        return;\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide();\n      }\n      // clicked on an image inside the editor\n      this.show(evt.target);\n    }\n    else if (this.img) {\n      // clicked on a non image\n      this.hide();\n    }\n  }\n\n  show(img) {\n    // keep track of this img element\n    this.img = img;\n    this.showResizers();\n    this.showSizeDisplay();\n    // position the resize handles at the corners\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  hide() {\n    this.hideResizers();\n    // this.hideSizeDisplay();\n    this.img = undefined;\n  }\n\n  showResizers() {\n    // prevent spurious text selection\n    this.setUserSelect('none');\n    // add 4 resize handles\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true);\n    this.quill.root.addEventListener('input', this.checkImage, true);\n  }\n\n  hideResizers() {\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage);\n    this.quill.root.removeEventListener('input', this.checkImage);\n    // reset user-select\n    this.setUserSelect('');\n    this.setCursor('');\n    // remove boxes\n    this.boxes.forEach(box => document.body.removeChild(box));\n    // release memory\n    this.dragBox = undefined;\n    this.dragStartX = undefined;\n    this.preDragWidth = undefined;\n    this.boxes = [];\n  }\n\n  addBox(cursor) {\n    // create div element for resize handle\n    const box = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      height: '12px',\n      width: '12px',\n      backgroundColor: 'white',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: cursor,\n    };\n    this.extend(box.style, styles, this.options.handleStyles || {});\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false);\n    // add drag handle to document\n    document.body.appendChild(box);\n    // keep track of drag handle\n    this.boxes.push(box);\n  }\n\n  extend(destination, ...sources) {\n    sources.forEach(source => {\n      for (let prop in source) {\n        if (source.hasOwnProperty(prop)) {\n          destination[prop] = source[prop];\n        }\n      }\n    });\n    return destination;\n  }\n\n  positionBoxes(rect) {\n    // set the top and left for each drag handle\n    [\n      { left: rect.left - 6,              top: rect.top - 6 },               // top left\n      { left: rect.left + rect.width - 6, top: rect.top - 6 },               // top right\n      { left: rect.left + rect.width - 6, top: rect.top + rect.height - 6 }, // bottom right\n      { left: rect.left - 6,              top: rect.top + rect.height - 6 }, // bottom left\n    ].forEach((pos, idx) => {\n      this.extend(this.boxes[idx].style, {\n        top: Math.round(pos.top + window.pageYOffset) + 'px',\n        left: Math.round(pos.left + window.pageXOffset) + 'px',\n      });\n    });\n  }\n\n  handleMousedown(evt) {\n    // note which box\n    this.dragBox = evt.target;\n    // note starting mousedown position\n    this.dragStartX = evt.clientX;\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor);\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false);\n    document.addEventListener('mouseup', this.handleMouseup, false);\n  }\n\n  handleMouseup() {\n    // reset cursor everywhere\n    this.setCursor('');\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n  }\n\n  handleDrag(evt) {\n    if (!this.img) {\n      // image not set yet\n      return;\n    }\n    // update image size\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; draging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - evt.clientX - this.dragStartX);\n    }\n    else {\n      // right-side resize handler; draging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + evt.clientX - this.dragStartX);\n    }\n    // reposition the drag handles around the image\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  setUserSelect(value) {\n    [\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect'\n    ].forEach(prop => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  }\n\n  setCursor(value) {\n    [\n      document.body,\n      this.img,\n      this.quill.root\n    ].forEach(el => el.style.cursor = value);\n  }\n\n  checkImage() {\n    if (this.img) {\n      this.hide();\n    }\n  }\n\n  showSizeDisplay() {\n    if (!this.options.displaySize) {\n      return;\n    }\n    this.display = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      font: '12px/1.0 Arial, Helvetica, sans-serif',\n      padding: '4px 8px',\n      textAlign: 'center',\n      backgroundColor: 'white',\n      color: '#333',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: 'default',\n    };\n    this.extend(this.display.style, styles, this.options.displayStyles || {});\n    document.body.appendChild(this.display);\n  }\n\n  hideSizeDisplay() {\n    document.body.removeChild(this.display);\n    this.display = undefined;\n  }\n\n  positionSizeDisplay(rect) {\n    if (!this.display || !this.img) {\n      return;\n    }\n    const size = this.getCurrentSize();\n    this.display.innerHTML = size.join(' &times; ');\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      const dispRect = this.display.getBoundingClientRect();\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset - dispRect.width - 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset - dispRect.height - 8) + 'px',\n      });\n    }\n    else {\n      // position off bottom right\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset + 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset + 8) + 'px',\n      });\n    }\n  }\n\n  getCurrentSize() {\n    return [\n      this.img.width,\n      Math.round(this.img.width / this.img.naturalWidth * this.img.naturalHeight),\n    ];\n  }\n\n}\n","import { Quill } from 'react-quill'\nconst BlockEmbed = Quill.import('blots/block/embed');\nconst Parchment = Quill.import('parchment');\nconst ATTRIBUTES = [ 'height', 'width' ];\n\nconst nubStyles = {\n  tLeft: {\n    top: '-5px',\n    left: '-5px',\n  },\n  tRight: {\n    top: '-5px',\n    right: '-5px',\n  },\n  bLeft: {\n    bottom: '-5px',\n    left: '-5px',\n  },\n  bRight: {\n    bottom: '-5px',\n    right: '-5px',\n  },\n}\n\nconst getClosest = (el, sel) => {\n  while ((el = el.parentElement) && !((el.matches || el.matchesSelector).call(el, sel)));\n  return el;\n}\n\nconst createSpacer = () => {\n  let spacer = document.createElement('div')\n  spacer.appendChild(document.createElement('br'));\n  return spacer\n}\n\nclass VideoBuilder {\n\n  buildIFrame(src, node) {\n    let iframe = document.createElement('iframe');\n    iframe.setAttribute('frameborder', '0');\n    iframe.setAttribute('allowfullscreen', true);\n    iframe.className = 'td-quill-video-editing'\n    iframe.setAttribute('width', node.getAttribute('width') || 300);\n    iframe.setAttribute('height', node.getAttribute('height') || 150);\n    iframe.setAttribute('src', src);\n    return iframe;\n  }\n\n  buildNode(node, wrapper) {\n    node.appendChild(wrapper);\n    setTimeout(() => {\n      node.setAttribute('contenteditable', 'false');\n      node.parentElement && node.parentElement.insertBefore(createSpacer(), node)\n      node.parentElement && node.parentElement.appendChild(createSpacer());\n      let iframe = node.getElementsByTagName('iframe')[0];\n      iframe.setAttribute('width', node.getAttribute('width') || 300);\n      iframe.setAttribute('height', node.getAttribute('height') || 150);\n    }, 0);\n    return node;\n  }\n\n  buildOverlay() {\n    let overlay = document.createElement('div');\n    overlay.setAttribute('class', \"td-quill-video-overlay\");\n    overlay.setAttribute('contenteditable', 'false');\n    overlay.addEventListener('click', (event) => {\n      let rootElement = getClosest(overlay, \".ql-editor\");\n      if(rootElement && rootElement.quill){\n        let node = Parchment.find(overlay.parentElement.parentElement);\n        if (node instanceof Video) {\n          node.domNode.builder.select(overlay, rootElement.quill, node);\n        }\n      }\n    });\n\n    return overlay;\n  }\n\n  select(overlay, quill, node) {\n\n    this.selectedElement = overlay;\n    if (this.selectedElement.className.indexOf('active') === -1){\n      this.quill = quill;\n      this.quill.setSelection(null);\n      this.parentElement = this.selectedElement.parentElement;\n      this.node = node;\n      this.iframe = this.parentElement.getElementsByTagName('iframe')[0];\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay active')\n      //let toolBar = this.buildToolBar();\n      //this.selectedElement.appendChild(toolBar);\n      this.buildResize();\n      this.handelDeselect = this.deselect.bind(this);\n      this.quill.root.addEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  deselect(event) {\n    if (event.target !== this.selectedElement) {\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay');\n      this.clearNubEvents(true);\n      while (this.selectedElement.firstChild) { this.selectedElement.removeChild(this.selectedElement.firstChild); }\n      this.selectedElement = null;\n      this.quill.root.removeEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  buildToolBar() {\n    let toolbarWrapper = document.createElement('div');\n    toolbarWrapper.className = \"td-quill-video-toolbar-wrapper\"\n    let toolbar = document.createElement('div');\n    toolbar.className = \"td-quill-video-toolbar\"\n    toolbar = this.addToolBarActions(toolbar);\n    toolbarWrapper.appendChild(toolbar);\n    return toolbarWrapper;\n  }\n\n  addToolBarActions(toolbar) {\n    toolbar.appendChild(this.buildAction('left'));\n    toolbar.appendChild(this.buildAction('center'));\n    toolbar.appendChild(this.buildAction('right'));\n    return toolbar;\n  }\n\n  buildAction(type) {\n    const button = document.createElement('span');\n    button.className = `td-quill-video-align-action td-quill-video-${type}`;\n    button.innerHTML = `<i class=\"fa fa-align-${type} td-align-${type}\" aria-hidden=\"true\"></i>`;\n    button.addEventListener('click', () => {\n      this.quill.setSelection(this.node.offset(this.quill.scroll), 1, 'user');\n      if (type === 'left') { return this.quill.format('align', null); }\n      this.quill.format('align', type);\n      this.quill.setSelection(null);\n    });\n    return button;\n  }\n\n  buildResize(){\n    this.boxes = [];\n    this.dragHandeler = this.handleDrag.bind(this);\n    this.mouseUp = this.handelMouseUp.bind(this);\n    this.mouseDown = this.handleMousedown.bind(this);\n    for(let key in nubStyles){\n      let nub = this.buildNub(key);\n      this.boxes.push(nub);\n      this.selectedElement.appendChild(nub);\n    }\n    return this.selectedElement;\n  }\n\n  buildNub(pos) {\n    let nub = document.createElement('span');\n    nub.className = 'td-quill-resize-nub';\n    Object.assign(nub.style, nubStyles[pos])\n    nub.addEventListener('mousedown', this.mouseDown, false);\n    return nub;\n  }\n\n  handleMousedown(event){\n    this.dragBox = event.target;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.preDragWidth = parseInt(this.iframe.width, 10) || 300;\n    this.preDragHeight = parseInt(this.iframe.height, 10) || 150;\n    document.addEventListener('mousemove', this.dragHandeler, false);\n    document.addEventListener('mouseup', this.mouseUp, false);\n  };\n\n  handleDrag(event){\n    if (!this.iframe) { return; }\n    const deltaX = event.clientX - this.dragStartX;\n    const deltaY = event.clientY - this.dragStartY;\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[2]) {\n      this.iframe.width = Math.round(this.preDragWidth - deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n    else {\n      this.iframe.width = Math.round(this.preDragWidth + deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n  }\n\n  handelMouseUp(event){\n    this.clearNubEvents();\n  }\n\n  clearNubEvents(include_nub){\n    for(let nub in this.boxes){\n      document.removeEventListener('mousemove', this.dragHandeler, false);\n      document.removeEventListener('mouseup', this.mouseUp, false);\n      if (include_nub){\n        this.boxes[nub].removeEventListener('mousedown', this.handleMousedown, false);\n      }\n    }\n  }\n\n}\n\nclass Video extends BlockEmbed {\n\n  static create(src) {\n    let node = super.create();\n    node.builder = new VideoBuilder();\n    let wrapper = document.createElement('div');\n    wrapper.className = 'td-quill-video-wrapper';\n    let iframe = node.builder.buildIFrame(src, node);\n    let overlay = node.builder.buildOverlay();\n    wrapper.appendChild(iframe);\n    wrapper.appendChild(overlay);\n    return node.builder.buildNode(node, wrapper);\n  }\n\n  static formats(domNode) {\n    let iframe = domNode.getElementsByTagName('iframe')[0];\n    return ATTRIBUTES.reduce(function (formats, attribute) {\n      if (iframe.hasAttribute(attribute)) {\n        formats[attribute] = iframe.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static value(domNode) {\n    return domNode.getElementsByTagName('iframe')[0].getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) { this.domNode.setAttribute(name, value); }\n      else { this.domNode.removeAttribute(name); }\n    }\n    else { super.format(name, value); }\n  }\n\n}\nVideo.blotName = 'video';\nVideo.className = 'td-video';\nVideo.tagName = 'div';\n\nexport { Video }\n","import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Container, Row } from \"react-bootstrap\";\nimport Dropzone from \"react-dropzone\";\nimport update from \"immutability-helper\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport { ImageResize } from \"./ImageResize\";\nimport { Video } from \"./quill-video-resize\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./index.css\";\n\nQuill.register(\"modules/imageResize\", ImageResize);\nQuill.register({ \"formats/video\": Video });\n\nconst imageMaxSize = 1000000000; //bytes\nconst acceptedFileTypes =\n  \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\";\nconst acceptedFileTypesArray = acceptedFileTypes\n  .split(\",\")\n  .map((item) => item.trim());\n\nclass ReviewForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedFiles: [],\n      price: \"\",\n      name: \"\",\n      type: \"combo\",\n      description: \"\",\n      imagePreviews: [],\n    };\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    let token = JSON.parse(localStorage.getItem(\"data\")).token;\n\n    fetch(\n      \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/service/\" +\n        token,\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          price: this.state.price,\n          name: this.state.name,\n          description: this.state.description,\n          image: this.state.imagePreviews[0],\n          type: this.state.type,\n        }),\n      }\n    )\n      .then((res) => res.json())\n      .then((result) => {\n        alert(JSON.stringify(result.status));\n        this.props.refreshList();\n        this.props.onHide();\n      });\n  };\n  handleChange = (value) => {\n    this.setState({\n      content: value,\n    });\n  };\n\n  verifyFiles = (files) => {\n    if (files && files.length > 0) {\n      let currentFile = files[0];\n      let currentFileType = currentFile.type;\n      let currentFileSize = currentFile.size;\n\n      if (currentFileSize > imageMaxSize) {\n        return false;\n      }\n\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  onFileDropped = (acceptedFiles, rejectedFiles) => {\n    let files = this.state.uploadedFiles;\n    let filesPreview = this.state.imagePreviews;\n    if (this.verifyFiles(acceptedFiles)) {\n      files.push(acceptedFiles[0]);\n\n      let currentFile = acceptedFiles[0];\n      let reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        filesPreview.push(reader.result);\n        this.setState({\n          imagePreviews: filesPreview,\n        });\n      });\n      reader.readAsDataURL(currentFile);\n\n      this.setState({\n        uploadedFiles: files || null,\n      });\n    }\n  };\n\n  handleRemove = (index) => {\n    let listPreviews = update(this.state.imagePreviews, {});\n    let listUpload = update(this.state.uploadedFiles, {});\n    if (listPreviews.length > 0 && listUpload.length > 0) {\n      listPreviews.splice(index, 1);\n      listUpload.splice(index, 1);\n      this.setState({\n        imagePreviews: listPreviews,\n        uploadedFiles: listUpload,\n      });\n    }\n  };\n\n  renderDropZone(fileName) {\n    return (\n      <Dropzone\n        onDrop={this.onFileDropped}\n        id=\"dropzone-upload-component\"\n        accept={acceptedFileTypes}\n        multiple={false}\n      >\n        <div>{fileName}</div>\n      </Dropzone>\n    );\n  }\n\n  render() {\n    let fileName = \"Upload Ảnh Dịch Vụ\";\n\n    let imagePreviews = this.state.imagePreviews;\n    return (\n      <div>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group controlId=\"price\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Nhập Giá\"\n              required\n              onChange={(e) => this.setState({ price: e.target.value })}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"upload-image\">\n            {this.renderDropZone(fileName)}\n            <Container>\n              <Row>\n                {imagePreviews.length > 0\n                  ? imagePreviews.map((imgSrc, index) => {\n                      return (\n                        <div key={index} className=\"img-inline\">\n                          <img src={imgSrc} className=\"img-preview\" />\n                          <i onClick={() => this.handleRemove(index)}>✘</i>\n                        </div>\n                      );\n                    })\n                  : \"\"}\n              </Row>\n            </Container>\n          </Form.Group>\n          <Form.Group controlId=\"name\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Tên Dịch Vụ\"\n              required\n              onChange={(e) => this.setState({ name: e.target.value })}\n            />\n          </Form.Group>\n          {/* <Form.Group controlId=\"type\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Kiểu Dịch Vụ\"\n              required\n              onChange={(e) => this.setState({ type: e.target.value })}\n            />\n          </Form.Group> */}\n          <Form.Group\n            controlID=\"type\"\n          >\n            <Form.Label>Kiểu Dịch Vụ</Form.Label>\n            <Form.Control as=\"select\" name=\"type\" onChange={(e) => this.setState({ type: e.target.value })} required>\n            {/* \"combo\",\"cat\",\"uon\",\"nhuom\" */}\n              <option value=\"combo\">Combo</option>\n              <option value=\"cat\">Cắt Tóc</option>\n              <option value=\"uon\">Uốn Tóc</option>\n              <option value=\"nhuom\">Nhuộm Tóc</option>\n            </Form.Control>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Control\n              type=\"text\"\n              name=\"description\"\n              onChange={(e) => this.setState({ description: e.target.value })}\n              placeholder=\"Nhập Mô Tả\"\n              as=\"textarea\"\n              rows={3}\n            />\n          </Form.Group>\n          <br />\n          <br />\n          <br />\n          <Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n              Thêm\n            </Button>\n          </Form.Group>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default ReviewForm;\n","import React, { Component } from \"react\";\r\nimport { Modal, Button, Row, Col, Form } from \"react-bootstrap\";\r\nimport ReviewForm from \"./ReviewForm\";\r\n\r\n\r\nclass AddServiceModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  \r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n      \r\n        <Modal\r\n          {...this.props}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\" >\r\n              Thêm dịch vụ\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={1}></Col>\r\n              <Col md={10}>\r\n                <ReviewForm refreshList={this.props.refreshList} onHide={this.props.onHide}/>\r\n              </Col>\r\n              <Col md={1}></Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default AddServiceModal;\r\n","import React, { Component } from 'react'\r\nimport { Link } from  \"react-router-dom\";\r\n\r\nexport default class Header extends Component {\r\n    render() {\r\n        return (\r\n        <div>\r\n  <nav className=\"main-header navbar navbar-expand navbar-white navbar-light\">\r\n    {/* Left navbar links */}\r\n    <ul className=\"navbar-nav\">\r\n      <li className=\"nav-item\">\r\n        <Link className=\"nav-link\" data-widget=\"pushmenu\" role=\"button\"><i className=\"fas fa-bars\" /></Link>\r\n      </li>\r\n      {/* <li className=\"nav-item d-none d-sm-inline-block\">\r\n        <Link className=\"nav-link\">Trang chủ</Link>\r\n      </li>\r\n      <li className=\"nav-item d-none d-sm-inline-block\">\r\n        <Link   className=\"nav-link\">Liên hệ</Link>\r\n      </li> */}\r\n    </ul>\r\n    {/* SEARCH FORM */}\r\n    {/* <form className=\"form-inline ml-3\">\r\n      <div className=\"input-group input-group-sm\">\r\n        <input className=\"form-control form-control-navbar\" type=\"search\" placeholder=\"Tìm kiếm\" aria-label=\"Search\" />\r\n        <div className=\"input-group-append\">\r\n          <button className=\"btn btn-navbar\" type=\"submit\">\r\n            <i className=\"fas fa-search\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form> */}\r\n    {/* Right navbar links */}\r\n   \r\n  </nav>\r\n</div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fullname: \"\",\r\n    };\r\n  }\r\n  componentDidMount(){\r\n    this.setState({\r\n      fullname:JSON.parse(localStorage.getItem(\"data\")).fullname\r\n    })\r\n  }\r\n  logout(){\r\n    localStorage.clear();\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <aside className=\"main-sidebar sidebar-dark-primary elevation-4\">\r\n          {/* Brand Logo */}\r\n          {/* <Link to=\"index3.html\" className=\"brand-link\">\r\n            <img\r\n              src=\"dist/img/reactjs.jpg\"\r\n              alt=\"AdminLTE Logo\"\r\n              className=\"brand-image img-circle elevation-3\"\r\n              style={{ opacity: \".8\" }}\r\n            />\r\n            <span className=\"brand-text font-weight-light\"> Barber Shop</span>\r\n          </Link> */}\r\n          {/* Sidebar */}\r\n          <div className=\"sidebar\">\r\n            {/* Sidebar user panel (optional) */}\r\n            <div className=\"user-panel mt-3 pb-3 mb-3 d-flex\">\r\n              <div className=\"image\">\r\n                <img\r\n                  className=\"img-circle elevation-2\"\r\n                  src=\"dist/img/user2-160x160.jpg\"\r\n                  alt=\"User avatar\"\r\n                />\r\n              </div>\r\n              <div className=\"info\">\r\n                <Link to=\"#\" className=\"d-block\">\r\n                  {this.state.fullname}\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            {/* Sidebar Menu */}\r\n            <nav className=\"mt-2\">\r\n              <ul\r\n                className=\"nav nav-pills nav-sidebar flex-column\"\r\n                data-widget=\"treeview\"\r\n                role=\"menu\"\r\n                data-accordion=\"false\"\r\n              >\r\n                {/* Add icons to the links using the .nav-icon class\r\n         with font-awesome or any other icon font library */}\r\n\r\n                <li className=\"nav-header\">DANH MỤC QUẢN LÝ</li>\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/qldichvu\" className=\"nav-link\">\r\n                    <i className=\"nav-icon fas fa-calendar-alt\" />\r\n                    <p>\r\n                      Quản lý dịch vụ\r\n                      {/* <span className=\"badge badge-info right\">2</span> */}\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n                {/* <li className=\"nav-item\">\r\n                   <Link to=\"/qluser\" className=\"nav-link\">\r\n                    <i className=\"nav-icon fas fa-user\" />\r\n                    <p>\r\n                    Quản lý User\r\n              </p>\r\n                  </ Link>\r\n                </li> */}\r\n\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/qltintuc\" className=\"nav-link\">\r\n                    <i className=\"fas fa-book nav-icon\" />\r\n                    <p>Quản lý tin tức</p>\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/qlNguoiDung\" className=\"nav-link\">\r\n                    <i className=\"fas fa-user-tie nav-icon\" />\r\n                    <p>Quản lý người dùng</p>\r\n                  </Link>\r\n                </li>\r\n                {/* <li className=\"nav-item\">\r\n                   <Link to=\"/qltintuc\" className=\"nav-link\">\r\n                    <i className=\"far fa-address-card nav-icon\" />\r\n                    <p>Quản lý nhân viên</p>\r\n                  </ Link>\r\n                </li> */}\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/qlDonDatHang\" className=\"nav-link\">\r\n                    <i className=\"fas fa-shopping-cart nav-icon\" />\r\n                    <p>Quản lý đơn đặt hàng</p>\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/qlKhuyenMai\" className=\"nav-link\">\r\n                    <i className=\"fas fa-gift nav-icon\" />\r\n                    <p>Quản lý mã khuyến mãi</p>\r\n                  </Link>\r\n                </li>\r\n                {/* <li className=\"nav-item\">\r\n                   <Link to=\"/qltintuc\" className=\"nav-link\">\r\n                    <i className=\"fas fa-comments nav-icon\" />\r\n                    <p>Quản lý bình luận</p>\r\n                  </ Link>\r\n                </li> */}\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/thongke\" className=\"nav-link\">\r\n                    <i className=\"fas fa-chart-bar nav-icon\" />\r\n                    <p>Báo cáo thống kê</p>\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link onClick={this.logout} className=\"nav-link\">\r\n                    <i className=\"fas fa-sign-out-alt nav-icon\" />\r\n                    <p>Đăng xuất</p>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n            {/* /.sidebar-menu */}\r\n          </div>\r\n          {/* /.sidebar */}\r\n        </aside>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Footer extends Component {\r\n    render() {\r\n        return (\r\n  <div>\r\n  <footer className=\"main-footer\">\r\n    <strong>Copyright ©2020 <a href=\"#\">Barber Shop</a> .</strong>\r\n    All rights reserved.\r\n    <div className=\"float-right d-none d-sm-inline-block\">\r\n      <b>Cao đẳng FPT POLYTECHNICH</b> \r\n    </div>\r\n  </footer>\r\n</div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SkeletonLoader from \"tiny-skeleton-loader-react\";\r\nimport  EditServiceModal  from \"../components/EditServiceModal/EditServiceModal\";\r\nimport AddServiceModal  from \"../components/AddServiceModal/AddServiceModal\";\r\nimport { Button, ButtonToolbar } from \"react-bootstrap\";\r\nimport Header from \"../components/Header\";\r\nimport Menu from \"../components/Menu\";\r\nimport Footer from '../components/Footer'\r\n\r\nclass QlDichvu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sevices: [],\r\n      isLoading: true,\r\n      addModalShow: false,\r\n      editModalShow: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.refreshList();\r\n  }\r\n  refreshList = () => {\r\n    this.setState({ isLoading: true });\r\n    axios\r\n      .get(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/service\"\r\n      )\r\n      .then((res) => this.setState({ sevices: res.data, isLoading: false }))\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  };\r\n  deleteService(serviceID) {\r\n    let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n    if (window.confirm(\"Bạn có chắc là mình muốn xóa?\")) {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Cookie\",\r\n        \"__cfduid=da615458fc4e1c5298a7af3e001f850441605104174\"\r\n      );\r\n\r\n      var requestOptions = {\r\n        method: \"DELETE\",\r\n        headers: myHeaders,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/service/\"+token+\"/delete/\" +\r\n          serviceID,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => alert(result.status))\r\n        .then(this.refreshList)\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      sevices,\r\n      isLoading,\r\n      nameModal,\r\n      descriptionModal,\r\n      priceModal,\r\n      idModal,\r\n      typeModal,\r\n      imageModal\r\n    } = this.state;\r\n    let addModalClose = () => this.setState({ addModalShow: false });\r\n    let editModalClose = () => this.setState({ editModalShow: false });\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Menu />\r\n        <div className=\"content-wrapper\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Quản lý dịch vụ</h1>\r\n                </div>\r\n             \r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h3 className=\"card-title\">Danh sách dịch vụ</h3>\r\n                      <div class=\"float-right\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => this.setState({ addModalShow: true })}\r\n                          class=\"btn btn-danger\"\r\n                        >\r\n                          <a class=\"text-light\">Thêm Dịch Vụ</a>\r\n                        </button>\r\n                        <AddServiceModal\r\n                          show={this.state.addModalShow}\r\n                          onHide={addModalClose}\r\n                          refreshList={this.refreshList}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      {isLoading ? (\r\n                        <SkeletonLoader\r\n                          style={{ width: \"100%\", height: 700 }}\r\n                        />\r\n                      ) : (\r\n                        <table\r\n                          id=\"example2\"\r\n                          className=\"table table-bordered table-hover\"\r\n                        >\r\n                          <thead>\r\n                            <tr>\r\n                              <th>ID</th>\r\n                              <th>Tên Dịch Vụ</th>\r\n                              <th>Type</th>\r\n                              <th>Mô Tả Dịch Vụ</th>\r\n                              <th>Giá</th>\r\n                              <th>Sửa</th>\r\n                              <th>Xóa</th>\r\n                            </tr>\r\n                          </thead>\r\n\r\n                          <tbody>\r\n                            {sevices.map((service) => (\r\n                              <tr key={service.idService}>\r\n                                <td>{service.idService}</td>\r\n                                <td>{service.name}</td>\r\n                                <td>{service.type}</td>\r\n                                <td>{service.description}</td>\r\n                                <td>{service.price}</td>\r\n                                <td>\r\n                                  <Link\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        editModalShow: true,\r\n                                        idModal: service.idService,\r\n                                        nameModal: service.name,\r\n                                        descriptionModal: service.description,\r\n                                        priceModal: service.price,\r\n                                        typeModal:service.type,\r\n                                        imageModal:service.image\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-edit\"> </i>\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <td>\r\n                                  <Link\r\n                                    onClick={() =>\r\n                                      this.deleteService(service.idService)\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-trash-alt\" />\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <EditServiceModal\r\n                                  style={{ diskplay: \"none\" }}\r\n                                  show={this.state.editModalShow}\r\n                                  onHide={editModalClose}\r\n                                  nameEdit={nameModal}\r\n                                  descriptionEdit={descriptionModal}\r\n                                  priceEdit={priceModal}\r\n                                  idEdit={idModal}\r\n                                  imageEdit={imageModal}\r\n                                  typeEdit={typeModal}\r\n                                  refreshList={this.refreshList}\r\n                                />\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <Footer/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QlDichvu;\r\n","/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport class ImageResize {\n\n  constructor(quill, options = {}) {\n    // save the quill reference and options\n    this.quill = quill;\n    this.options = options;\n    // bind handlers to this instance\n    this.handleClick = this.handleClick.bind(this);\n    this.handleMousedown = this.handleMousedown.bind(this);\n    this.handleMouseup = this.handleMouseup.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.checkImage = this.checkImage.bind(this);\n    // track resize handles\n    this.boxes = [];\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false');\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false);\n  }\n\n  handleClick(evt) {\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\n      if (this.img === evt.target) {\n        // we are already focused on this image\n        return;\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide();\n      }\n      // clicked on an image inside the editor\n      this.show(evt.target);\n    }\n    else if (this.img) {\n      // clicked on a non image\n      this.hide();\n    }\n  }\n\n  show(img) {\n    // keep track of this img element\n    this.img = img;\n    this.showResizers();\n    this.showSizeDisplay();\n    // position the resize handles at the corners\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  hide() {\n    this.hideResizers();\n    // this.hideSizeDisplay();\n    this.img = undefined;\n  }\n\n  showResizers() {\n    // prevent spurious text selection\n    this.setUserSelect('none');\n    // add 4 resize handles\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true);\n    this.quill.root.addEventListener('input', this.checkImage, true);\n  }\n\n  hideResizers() {\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage);\n    this.quill.root.removeEventListener('input', this.checkImage);\n    // reset user-select\n    this.setUserSelect('');\n    this.setCursor('');\n    // remove boxes\n    this.boxes.forEach(box => document.body.removeChild(box));\n    // release memory\n    this.dragBox = undefined;\n    this.dragStartX = undefined;\n    this.preDragWidth = undefined;\n    this.boxes = [];\n  }\n\n  addBox(cursor) {\n    // create div element for resize handle\n    const box = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      height: '12px',\n      width: '12px',\n      backgroundColor: 'white',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: cursor,\n    };\n    this.extend(box.style, styles, this.options.handleStyles || {});\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false);\n    // add drag handle to document\n    document.body.appendChild(box);\n    // keep track of drag handle\n    this.boxes.push(box);\n  }\n\n  extend(destination, ...sources) {\n    sources.forEach(source => {\n      for (let prop in source) {\n        if (source.hasOwnProperty(prop)) {\n          destination[prop] = source[prop];\n        }\n      }\n    });\n    return destination;\n  }\n\n  positionBoxes(rect) {\n    // set the top and left for each drag handle\n    [\n      { left: rect.left - 6,              top: rect.top - 6 },               // top left\n      { left: rect.left + rect.width - 6, top: rect.top - 6 },               // top right\n      { left: rect.left + rect.width - 6, top: rect.top + rect.height - 6 }, // bottom right\n      { left: rect.left - 6,              top: rect.top + rect.height - 6 }, // bottom left\n    ].forEach((pos, idx) => {\n      this.extend(this.boxes[idx].style, {\n        top: Math.round(pos.top + window.pageYOffset) + 'px',\n        left: Math.round(pos.left + window.pageXOffset) + 'px',\n      });\n    });\n  }\n\n  handleMousedown(evt) {\n    // note which box\n    this.dragBox = evt.target;\n    // note starting mousedown position\n    this.dragStartX = evt.clientX;\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor);\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false);\n    document.addEventListener('mouseup', this.handleMouseup, false);\n  }\n\n  handleMouseup() {\n    // reset cursor everywhere\n    this.setCursor('');\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n  }\n\n  handleDrag(evt) {\n    if (!this.img) {\n      // image not set yet\n      return;\n    }\n    // update image size\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; draging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - evt.clientX - this.dragStartX);\n    }\n    else {\n      // right-side resize handler; draging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + evt.clientX - this.dragStartX);\n    }\n    // reposition the drag handles around the image\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  setUserSelect(value) {\n    [\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect'\n    ].forEach(prop => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  }\n\n  setCursor(value) {\n    [\n      document.body,\n      this.img,\n      this.quill.root\n    ].forEach(el => el.style.cursor = value);\n  }\n\n  checkImage() {\n    if (this.img) {\n      this.hide();\n    }\n  }\n\n  showSizeDisplay() {\n    if (!this.options.displaySize) {\n      return;\n    }\n    this.display = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      font: '12px/1.0 Arial, Helvetica, sans-serif',\n      padding: '4px 8px',\n      textAlign: 'center',\n      backgroundColor: 'white',\n      color: '#333',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: 'default',\n    };\n    this.extend(this.display.style, styles, this.options.displayStyles || {});\n    document.body.appendChild(this.display);\n  }\n\n  hideSizeDisplay() {\n    document.body.removeChild(this.display);\n    this.display = undefined;\n  }\n\n  positionSizeDisplay(rect) {\n    if (!this.display || !this.img) {\n      return;\n    }\n    const size = this.getCurrentSize();\n    this.display.innerHTML = size.join(' &times; ');\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      const dispRect = this.display.getBoundingClientRect();\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset - dispRect.width - 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset - dispRect.height - 8) + 'px',\n      });\n    }\n    else {\n      // position off bottom right\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset + 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset + 8) + 'px',\n      });\n    }\n  }\n\n  getCurrentSize() {\n    return [\n      this.img.width,\n      Math.round(this.img.width / this.img.naturalWidth * this.img.naturalHeight),\n    ];\n  }\n\n}\n","import { Quill } from 'react-quill'\nconst BlockEmbed = Quill.import('blots/block/embed');\nconst Parchment = Quill.import('parchment');\nconst ATTRIBUTES = [ 'height', 'width' ];\n\nconst nubStyles = {\n  tLeft: {\n    top: '-5px',\n    left: '-5px',\n  },\n  tRight: {\n    top: '-5px',\n    right: '-5px',\n  },\n  bLeft: {\n    bottom: '-5px',\n    left: '-5px',\n  },\n  bRight: {\n    bottom: '-5px',\n    right: '-5px',\n  },\n}\n\nconst getClosest = (el, sel) => {\n  while ((el = el.parentElement) && !((el.matches || el.matchesSelector).call(el, sel)));\n  return el;\n}\n\nconst createSpacer = () => {\n  let spacer = document.createElement('div')\n  spacer.appendChild(document.createElement('br'));\n  return spacer\n}\n\nclass VideoBuilder {\n\n  buildIFrame(src, node) {\n    let iframe = document.createElement('iframe');\n    iframe.setAttribute('frameborder', '0');\n    iframe.setAttribute('allowfullscreen', true);\n    iframe.className = 'td-quill-video-editing'\n    iframe.setAttribute('width', node.getAttribute('width') || 300);\n    iframe.setAttribute('height', node.getAttribute('height') || 150);\n    iframe.setAttribute('src', src);\n    return iframe;\n  }\n\n  buildNode(node, wrapper) {\n    node.appendChild(wrapper);\n    setTimeout(() => {\n      node.setAttribute('contenteditable', 'false');\n      node.parentElement && node.parentElement.insertBefore(createSpacer(), node)\n      node.parentElement && node.parentElement.appendChild(createSpacer());\n      let iframe = node.getElementsByTagName('iframe')[0];\n      iframe.setAttribute('width', node.getAttribute('width') || 300);\n      iframe.setAttribute('height', node.getAttribute('height') || 150);\n    }, 0);\n    return node;\n  }\n\n  buildOverlay() {\n    let overlay = document.createElement('div');\n    overlay.setAttribute('class', \"td-quill-video-overlay\");\n    overlay.setAttribute('contenteditable', 'false');\n    overlay.addEventListener('click', (event) => {\n      let rootElement = getClosest(overlay, \".ql-editor\");\n      if(rootElement && rootElement.quill){\n        let node = Parchment.find(overlay.parentElement.parentElement);\n        if (node instanceof Video) {\n          node.domNode.builder.select(overlay, rootElement.quill, node);\n        }\n      }\n    });\n\n    return overlay;\n  }\n\n  select(overlay, quill, node) {\n\n    this.selectedElement = overlay;\n    if (this.selectedElement.className.indexOf('active') === -1){\n      this.quill = quill;\n      this.quill.setSelection(null);\n      this.parentElement = this.selectedElement.parentElement;\n      this.node = node;\n      this.iframe = this.parentElement.getElementsByTagName('iframe')[0];\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay active')\n      //let toolBar = this.buildToolBar();\n      //this.selectedElement.appendChild(toolBar);\n      this.buildResize();\n      this.handelDeselect = this.deselect.bind(this);\n      this.quill.root.addEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  deselect(event) {\n    if (event.target !== this.selectedElement) {\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay');\n      this.clearNubEvents(true);\n      while (this.selectedElement.firstChild) { this.selectedElement.removeChild(this.selectedElement.firstChild); }\n      this.selectedElement = null;\n      this.quill.root.removeEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  buildToolBar() {\n    let toolbarWrapper = document.createElement('div');\n    toolbarWrapper.className = \"td-quill-video-toolbar-wrapper\"\n    let toolbar = document.createElement('div');\n    toolbar.className = \"td-quill-video-toolbar\"\n    toolbar = this.addToolBarActions(toolbar);\n    toolbarWrapper.appendChild(toolbar);\n    return toolbarWrapper;\n  }\n\n  addToolBarActions(toolbar) {\n    toolbar.appendChild(this.buildAction('left'));\n    toolbar.appendChild(this.buildAction('center'));\n    toolbar.appendChild(this.buildAction('right'));\n    return toolbar;\n  }\n\n  buildAction(type) {\n    const button = document.createElement('span');\n    button.className = `td-quill-video-align-action td-quill-video-${type}`;\n    button.innerHTML = `<i class=\"fa fa-align-${type} td-align-${type}\" aria-hidden=\"true\"></i>`;\n    button.addEventListener('click', () => {\n      this.quill.setSelection(this.node.offset(this.quill.scroll), 1, 'user');\n      if (type === 'left') { return this.quill.format('align', null); }\n      this.quill.format('align', type);\n      this.quill.setSelection(null);\n    });\n    return button;\n  }\n\n  buildResize(){\n    this.boxes = [];\n    this.dragHandeler = this.handleDrag.bind(this);\n    this.mouseUp = this.handelMouseUp.bind(this);\n    this.mouseDown = this.handleMousedown.bind(this);\n    for(let key in nubStyles){\n      let nub = this.buildNub(key);\n      this.boxes.push(nub);\n      this.selectedElement.appendChild(nub);\n    }\n    return this.selectedElement;\n  }\n\n  buildNub(pos) {\n    let nub = document.createElement('span');\n    nub.className = 'td-quill-resize-nub';\n    Object.assign(nub.style, nubStyles[pos])\n    nub.addEventListener('mousedown', this.mouseDown, false);\n    return nub;\n  }\n\n  handleMousedown(event){\n    this.dragBox = event.target;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.preDragWidth = parseInt(this.iframe.width, 10) || 300;\n    this.preDragHeight = parseInt(this.iframe.height, 10) || 150;\n    document.addEventListener('mousemove', this.dragHandeler, false);\n    document.addEventListener('mouseup', this.mouseUp, false);\n  };\n\n  handleDrag(event){\n    if (!this.iframe) { return; }\n    const deltaX = event.clientX - this.dragStartX;\n    const deltaY = event.clientY - this.dragStartY;\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[2]) {\n      this.iframe.width = Math.round(this.preDragWidth - deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n    else {\n      this.iframe.width = Math.round(this.preDragWidth + deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n  }\n\n  handelMouseUp(event){\n    this.clearNubEvents();\n  }\n\n  clearNubEvents(include_nub){\n    for(let nub in this.boxes){\n      document.removeEventListener('mousemove', this.dragHandeler, false);\n      document.removeEventListener('mouseup', this.mouseUp, false);\n      if (include_nub){\n        this.boxes[nub].removeEventListener('mousedown', this.handleMousedown, false);\n      }\n    }\n  }\n\n}\n\nclass Video extends BlockEmbed {\n\n  static create(src) {\n    let node = super.create();\n    node.builder = new VideoBuilder();\n    let wrapper = document.createElement('div');\n    wrapper.className = 'td-quill-video-wrapper';\n    let iframe = node.builder.buildIFrame(src, node);\n    let overlay = node.builder.buildOverlay();\n    wrapper.appendChild(iframe);\n    wrapper.appendChild(overlay);\n    return node.builder.buildNode(node, wrapper);\n  }\n\n  static formats(domNode) {\n    let iframe = domNode.getElementsByTagName('iframe')[0];\n    return ATTRIBUTES.reduce(function (formats, attribute) {\n      if (iframe.hasAttribute(attribute)) {\n        formats[attribute] = iframe.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static value(domNode) {\n    return domNode.getElementsByTagName('iframe')[0].getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) { this.domNode.setAttribute(name, value); }\n      else { this.domNode.removeAttribute(name); }\n    }\n    else { super.format(name, value); }\n  }\n\n}\nVideo.blotName = 'video';\nVideo.className = 'td-video';\nVideo.tagName = 'div';\n\nexport { Video }\n","import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Container, Row } from \"react-bootstrap\";\nimport Dropzone from \"react-dropzone\";\nimport update from \"immutability-helper\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport { ImageResize } from \"./ImageResize\";\nimport { Video } from \"./quill-video-resize\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./index.css\";\n\nQuill.register(\"modules/imageResize\", ImageResize);\nQuill.register({ \"formats/video\": Video });\n\nconst imageMaxSize = 1000000000; //bytes\nconst acceptedFileTypes =\n  \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\";\nconst acceptedFileTypesArray = acceptedFileTypes\n  .split(\",\")\n  .map((item) => item.trim());\n\nclass ReviewForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedFiles: [],\n      tag:\"\",\n      title:\"\",\n      content:\"\",\n      description:\"\",\n      imagePreviews: [],\n    };\n  }\n\n  componentDidMount() {\n    this.attachQuillRefs(true);\n  }\n\n  componentDidUpdate() {\n    this.attachQuillRefs();\n  }\n\n  attachQuillRefs = (onMount) => {\n    if (typeof this.reactQuill.getEditor !== \"function\") return;\n    this.quill = this.reactQuill.getEditor();\n    this.quill.root.addEventListener(\"click\", this.handleClick, false);\n    this.quill.root.quill = this.quill;\n  };\n\n  removeVietnameseFromString(str) {\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n    str = str.replace(/Đ/g, \"D\");\n    str = str.toLowerCase();\n    str = str\n      .replace(/[&]/g, \"-and-\")\n      .replace(/[^a-zA-Z0-9._-]/g, \"-\")\n      .replace(/[-]+/g, \"-\")\n      .replace(/-$/, \"\");\n    return str;\n  }\n\n  handleSubmit = (event) => {\n        event.preventDefault();\n\n      let token = JSON.parse(localStorage.getItem(\"data\")).token\n\n      fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/post/'+token,{\n          method:'POST',\n          headers:{\n              'Accept':'application/json',\n              'Content-Type':'application/json'\n          },\n          body:JSON.stringify(\n\n              {\n\n                  title:this.state.title,\n                  tag:this.state.tag,\n                  description:this.state.description,\n                  thumbnail:this.state.imagePreviews[0],\n                  content:this.state.content,\n                  link:\"/baiviet/\"+this.removeVietnameseFromString(this.state.title)\n                 \n              \n              }\n          )\n      })\n      .then(res=> res.json())\n      .then((result)=>\n      {\n          alert(JSON.stringify(result.status));\n          this.props.toRefesh()\n          this.props.onHide()\n          \n      },)\n  }\n  handleChange = (value) => {\n    this.setState({\n      content: value,\n    });\n  };\n\n  verifyFiles = (files) => {\n    if (files && files.length > 0) {\n      let currentFile = files[0];\n      let currentFileType = currentFile.type;\n      let currentFileSize = currentFile.size;\n\n      if (currentFileSize > imageMaxSize) {\n        return false;\n      }\n\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  onFileDropped = (acceptedFiles, rejectedFiles) => {\n    let files = this.state.uploadedFiles;\n    let filesPreview = this.state.imagePreviews;\n    if (this.verifyFiles(acceptedFiles)) {\n      files.push(acceptedFiles[0]);\n\n      let currentFile = acceptedFiles[0];\n      let reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        filesPreview.push(reader.result);\n        this.setState({\n          imagePreviews: filesPreview,\n        });\n      });\n      reader.readAsDataURL(currentFile);\n\n      this.setState({\n        uploadedFiles: files || null,\n      });\n    }\n  };\n\n  handleRemove = (index) => {\n    let listPreviews = update(this.state.imagePreviews, {});\n    let listUpload = update(this.state.uploadedFiles, {});\n    if (listPreviews.length > 0 && listUpload.length > 0) {\n      listPreviews.splice(index, 1);\n      listUpload.splice(index, 1);\n      this.setState({\n        imagePreviews: listPreviews,\n        uploadedFiles: listUpload,\n      });\n    }\n  };\n\n  renderDropZone(fileName) {\n    return (\n      <Dropzone\n        onDrop={this.onFileDropped}\n        id=\"dropzone-upload-component\"\n        accept={acceptedFileTypes}\n        multiple={false}\n      >\n        <div>{fileName}</div>\n      </Dropzone>\n    );\n  }\n\n  render() {\n    let fileName = \"Upload Thumbnail\";\n    const modulesQill = {\n      toolbar: [\n        [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n        [{ size: [] }],\n        [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n        [\n          { list: \"ordered\" },\n          { list: \"bullet\" },\n          { indent: \"-1\" },\n          { indent: \"+1\" },\n        ],\n        [\"link\", \"image\", \"video\"],\n        [\"clean\"],\n      ],\n      clipboard: {\n        matchVisual: false,\n      },\n      history: {\n        delay: 1000,\n        maxStack: 50,\n        userOnly: false,\n      },\n      imageResize: {\n        displayStyles: {\n          backgroundColor: \"black\",\n          border: \"none\",\n          color: \"white\",\n        },\n        modules: [\"Resize\", \"DisplaySize\", \"Toolbar\"],\n      },\n    };\n    const formats = [\n      \"header\",\n      \"font\",\n      \"size\",\n      \"bold\",\n      \"italic\",\n      \"underline\",\n      \"strike\",\n      \"blockquote\",\n      \"list\",\n      \"bullet\",\n      \"indent\",\n      \"link\",\n      \"image\",\n      \"video\",\n    ];\n    let imagePreviews = this.state.imagePreviews;\n    return (\n      <div>\n        <Form onSubmit={this.handleSubmit}>\n        <Form.Group controlId=\"title\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter Title \"\n              onChange={(e) => this.setState({ title: e.target.value })}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"tag\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter Tag \"\n              onChange={(e) => this.setState({ tag: e.target.value })}\n\n            />\n          </Form.Group>\n          <Form.Group controlId=\"upload-image\">\n            {this.renderDropZone(fileName)}\n            <Container>\n              <Row>\n                {imagePreviews.length > 0\n                  ? imagePreviews.map((imgSrc, index) => {\n                      return (\n                        <div key={index} className=\"img-inline\">\n                          <img src={imgSrc} className=\"img-preview\" />\n                          <i onClick={() => this.handleRemove(index)}>✘</i>\n                        </div>\n                      );\n                    })\n                  : \"\"}\n              </Row>\n            </Container>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Control\n              type=\"text\"\n              name=\"description\"\n              onChange={(e) => this.setState({ description: e.target.value })}\n              placeholder=\"Enter Description\"\n              // onChange={this.handleInput}\n              as=\"textarea\"\n              rows={3}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"editor\">\n            <ReactQuill\n              value={this.state.content}\n              onChange={this.handleChange}\n              modules={modulesQill}\n              formats={formats}\n              theme={\"snow\"}\n              placeholder={\"Enter new content here...\"}\n              ref={(el) => {\n                this.reactQuill = el;\n              }}\n              style={{ height: \"300px\" }}\n            />\n          </Form.Group>\n          <br/>\n          <br/>\n          <br/>\n\n          <Form.Group>\n          <Button variant=\"primary\" type=\"submit\">\n              Thêm\n            </Button>\n            </Form.Group>\n        </Form>\n       \n      </div>\n    );\n  }\n}\n\nexport default ReviewForm;\n","import React, { Component } from \"react\";\r\nimport { Modal, Button, Row, Col, Form } from \"react-bootstrap\";\r\nimport ReviewForm from \"./ReviewForm\";\r\n\r\n\r\nclass AddNewModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  \r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n      \r\n        <Modal\r\n          {...this.props}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\" >\r\n              Thêm dịch vụ\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={1}></Col>\r\n              <Col md={10}>\r\n                <ReviewForm toRefesh={this.props.refreshList} onHide={this.props.onHide}/>\r\n              </Col>\r\n              <Col md={1}></Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default AddNewModal;\r\n","/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport class ImageResize {\n\n  constructor(quill, options = {}) {\n    // save the quill reference and options\n    this.quill = quill;\n    this.options = options;\n    // bind handlers to this instance\n    this.handleClick = this.handleClick.bind(this);\n    this.handleMousedown = this.handleMousedown.bind(this);\n    this.handleMouseup = this.handleMouseup.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.checkImage = this.checkImage.bind(this);\n    // track resize handles\n    this.boxes = [];\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false');\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false);\n  }\n\n  handleClick(evt) {\n    if (evt.target && evt.target.tagName && evt.target.tagName.toUpperCase() === 'IMG') {\n      if (this.img === evt.target) {\n        // we are already focused on this image\n        return;\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide();\n      }\n      // clicked on an image inside the editor\n      this.show(evt.target);\n    }\n    else if (this.img) {\n      // clicked on a non image\n      this.hide();\n    }\n  }\n\n  show(img) {\n    // keep track of this img element\n    this.img = img;\n    this.showResizers();\n    this.showSizeDisplay();\n    // position the resize handles at the corners\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  hide() {\n    this.hideResizers();\n    // this.hideSizeDisplay();\n    this.img = undefined;\n  }\n\n  showResizers() {\n    // prevent spurious text selection\n    this.setUserSelect('none');\n    // add 4 resize handles\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true);\n    this.quill.root.addEventListener('input', this.checkImage, true);\n  }\n\n  hideResizers() {\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage);\n    this.quill.root.removeEventListener('input', this.checkImage);\n    // reset user-select\n    this.setUserSelect('');\n    this.setCursor('');\n    // remove boxes\n    this.boxes.forEach(box => document.body.removeChild(box));\n    // release memory\n    this.dragBox = undefined;\n    this.dragStartX = undefined;\n    this.preDragWidth = undefined;\n    this.boxes = [];\n  }\n\n  addBox(cursor) {\n    // create div element for resize handle\n    const box = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      height: '12px',\n      width: '12px',\n      backgroundColor: 'white',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: cursor,\n    };\n    this.extend(box.style, styles, this.options.handleStyles || {});\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false);\n    // add drag handle to document\n    document.body.appendChild(box);\n    // keep track of drag handle\n    this.boxes.push(box);\n  }\n\n  extend(destination, ...sources) {\n    sources.forEach(source => {\n      for (let prop in source) {\n        if (source.hasOwnProperty(prop)) {\n          destination[prop] = source[prop];\n        }\n      }\n    });\n    return destination;\n  }\n\n  positionBoxes(rect) {\n    // set the top and left for each drag handle\n    [\n      { left: rect.left - 6,              top: rect.top - 6 },               // top left\n      { left: rect.left + rect.width - 6, top: rect.top - 6 },               // top right\n      { left: rect.left + rect.width - 6, top: rect.top + rect.height - 6 }, // bottom right\n      { left: rect.left - 6,              top: rect.top + rect.height - 6 }, // bottom left\n    ].forEach((pos, idx) => {\n      this.extend(this.boxes[idx].style, {\n        top: Math.round(pos.top + window.pageYOffset) + 'px',\n        left: Math.round(pos.left + window.pageXOffset) + 'px',\n      });\n    });\n  }\n\n  handleMousedown(evt) {\n    // note which box\n    this.dragBox = evt.target;\n    // note starting mousedown position\n    this.dragStartX = evt.clientX;\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor);\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false);\n    document.addEventListener('mouseup', this.handleMouseup, false);\n  }\n\n  handleMouseup() {\n    // reset cursor everywhere\n    this.setCursor('');\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n  }\n\n  handleDrag(evt) {\n    if (!this.img) {\n      // image not set yet\n      return;\n    }\n    // update image size\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; draging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - evt.clientX - this.dragStartX);\n    }\n    else {\n      // right-side resize handler; draging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + evt.clientX - this.dragStartX);\n    }\n    // reposition the drag handles around the image\n    const rect = this.img.getBoundingClientRect();\n    this.positionBoxes(rect);\n    this.positionSizeDisplay(rect);\n  }\n\n  setUserSelect(value) {\n    [\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect'\n    ].forEach(prop => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  }\n\n  setCursor(value) {\n    [\n      document.body,\n      this.img,\n      this.quill.root\n    ].forEach(el => el.style.cursor = value);\n  }\n\n  checkImage() {\n    if (this.img) {\n      this.hide();\n    }\n  }\n\n  showSizeDisplay() {\n    if (!this.options.displaySize) {\n      return;\n    }\n    this.display = document.createElement('div');\n    // apply styles\n    const styles = {\n      position: 'absolute',\n      font: '12px/1.0 Arial, Helvetica, sans-serif',\n      padding: '4px 8px',\n      textAlign: 'center',\n      backgroundColor: 'white',\n      color: '#333',\n      border: '1px solid #777',\n      boxSizing: 'border-box',\n      opacity: '0.80',\n      cursor: 'default',\n    };\n    this.extend(this.display.style, styles, this.options.displayStyles || {});\n    document.body.appendChild(this.display);\n  }\n\n  hideSizeDisplay() {\n    document.body.removeChild(this.display);\n    this.display = undefined;\n  }\n\n  positionSizeDisplay(rect) {\n    if (!this.display || !this.img) {\n      return;\n    }\n    const size = this.getCurrentSize();\n    this.display.innerHTML = size.join(' &times; ');\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      const dispRect = this.display.getBoundingClientRect();\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset - dispRect.width - 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset - dispRect.height - 8) + 'px',\n      });\n    }\n    else {\n      // position off bottom right\n      this.extend(this.display.style, {\n        left: Math.round(rect.left + rect.width + window.pageXOffset + 8) + 'px',\n        top: Math.round(rect.top + rect.height + window.pageYOffset + 8) + 'px',\n      });\n    }\n  }\n\n  getCurrentSize() {\n    return [\n      this.img.width,\n      Math.round(this.img.width / this.img.naturalWidth * this.img.naturalHeight),\n    ];\n  }\n\n}\n","import { Quill } from 'react-quill'\nconst BlockEmbed = Quill.import('blots/block/embed');\nconst Parchment = Quill.import('parchment');\nconst ATTRIBUTES = [ 'height', 'width' ];\n\nconst nubStyles = {\n  tLeft: {\n    top: '-5px',\n    left: '-5px',\n  },\n  tRight: {\n    top: '-5px',\n    right: '-5px',\n  },\n  bLeft: {\n    bottom: '-5px',\n    left: '-5px',\n  },\n  bRight: {\n    bottom: '-5px',\n    right: '-5px',\n  },\n}\n\nconst getClosest = (el, sel) => {\n  while ((el = el.parentElement) && !((el.matches || el.matchesSelector).call(el, sel)));\n  return el;\n}\n\nconst createSpacer = () => {\n  let spacer = document.createElement('div')\n  spacer.appendChild(document.createElement('br'));\n  return spacer\n}\n\nclass VideoBuilder {\n\n  buildIFrame(src, node) {\n    let iframe = document.createElement('iframe');\n    iframe.setAttribute('frameborder', '0');\n    iframe.setAttribute('allowfullscreen', true);\n    iframe.className = 'td-quill-video-editing'\n    iframe.setAttribute('width', node.getAttribute('width') || 300);\n    iframe.setAttribute('height', node.getAttribute('height') || 150);\n    iframe.setAttribute('src', src);\n    return iframe;\n  }\n\n  buildNode(node, wrapper) {\n    node.appendChild(wrapper);\n    setTimeout(() => {\n      node.setAttribute('contenteditable', 'false');\n      node.parentElement && node.parentElement.insertBefore(createSpacer(), node)\n      node.parentElement && node.parentElement.appendChild(createSpacer());\n      let iframe = node.getElementsByTagName('iframe')[0];\n      iframe.setAttribute('width', node.getAttribute('width') || 300);\n      iframe.setAttribute('height', node.getAttribute('height') || 150);\n    }, 0);\n    return node;\n  }\n\n  buildOverlay() {\n    let overlay = document.createElement('div');\n    overlay.setAttribute('class', \"td-quill-video-overlay\");\n    overlay.setAttribute('contenteditable', 'false');\n    overlay.addEventListener('click', (event) => {\n      let rootElement = getClosest(overlay, \".ql-editor\");\n      if(rootElement && rootElement.quill){\n        let node = Parchment.find(overlay.parentElement.parentElement);\n        if (node instanceof Video) {\n          node.domNode.builder.select(overlay, rootElement.quill, node);\n        }\n      }\n    });\n\n    return overlay;\n  }\n\n  select(overlay, quill, node) {\n\n    this.selectedElement = overlay;\n    if (this.selectedElement.className.indexOf('active') === -1){\n      this.quill = quill;\n      this.quill.setSelection(null);\n      this.parentElement = this.selectedElement.parentElement;\n      this.node = node;\n      this.iframe = this.parentElement.getElementsByTagName('iframe')[0];\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay active')\n      //let toolBar = this.buildToolBar();\n      //this.selectedElement.appendChild(toolBar);\n      this.buildResize();\n      this.handelDeselect = this.deselect.bind(this);\n      this.quill.root.addEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  deselect(event) {\n    if (event.target !== this.selectedElement) {\n      this.selectedElement.setAttribute('class', 'td-quill-video-overlay');\n      this.clearNubEvents(true);\n      while (this.selectedElement.firstChild) { this.selectedElement.removeChild(this.selectedElement.firstChild); }\n      this.selectedElement = null;\n      this.quill.root.removeEventListener('click', this.handelDeselect, false);\n    }\n  }\n\n  buildToolBar() {\n    let toolbarWrapper = document.createElement('div');\n    toolbarWrapper.className = \"td-quill-video-toolbar-wrapper\"\n    let toolbar = document.createElement('div');\n    toolbar.className = \"td-quill-video-toolbar\"\n    toolbar = this.addToolBarActions(toolbar);\n    toolbarWrapper.appendChild(toolbar);\n    return toolbarWrapper;\n  }\n\n  addToolBarActions(toolbar) {\n    toolbar.appendChild(this.buildAction('left'));\n    toolbar.appendChild(this.buildAction('center'));\n    toolbar.appendChild(this.buildAction('right'));\n    return toolbar;\n  }\n\n  buildAction(type) {\n    const button = document.createElement('span');\n    button.className = `td-quill-video-align-action td-quill-video-${type}`;\n    button.innerHTML = `<i class=\"fa fa-align-${type} td-align-${type}\" aria-hidden=\"true\"></i>`;\n    button.addEventListener('click', () => {\n      this.quill.setSelection(this.node.offset(this.quill.scroll), 1, 'user');\n      if (type === 'left') { return this.quill.format('align', null); }\n      this.quill.format('align', type);\n      this.quill.setSelection(null);\n    });\n    return button;\n  }\n\n  buildResize(){\n    this.boxes = [];\n    this.dragHandeler = this.handleDrag.bind(this);\n    this.mouseUp = this.handelMouseUp.bind(this);\n    this.mouseDown = this.handleMousedown.bind(this);\n    for(let key in nubStyles){\n      let nub = this.buildNub(key);\n      this.boxes.push(nub);\n      this.selectedElement.appendChild(nub);\n    }\n    return this.selectedElement;\n  }\n\n  buildNub(pos) {\n    let nub = document.createElement('span');\n    nub.className = 'td-quill-resize-nub';\n    Object.assign(nub.style, nubStyles[pos])\n    nub.addEventListener('mousedown', this.mouseDown, false);\n    return nub;\n  }\n\n  handleMousedown(event){\n    this.dragBox = event.target;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.preDragWidth = parseInt(this.iframe.width, 10) || 300;\n    this.preDragHeight = parseInt(this.iframe.height, 10) || 150;\n    document.addEventListener('mousemove', this.dragHandeler, false);\n    document.addEventListener('mouseup', this.mouseUp, false);\n  };\n\n  handleDrag(event){\n    if (!this.iframe) { return; }\n    const deltaX = event.clientX - this.dragStartX;\n    const deltaY = event.clientY - this.dragStartY;\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[2]) {\n      this.iframe.width = Math.round(this.preDragWidth - deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n    else {\n      this.iframe.width = Math.round(this.preDragWidth + deltaX);\n      this.iframe.height = Math.round(this.preDragHeight + deltaY);\n    }\n  }\n\n  handelMouseUp(event){\n    this.clearNubEvents();\n  }\n\n  clearNubEvents(include_nub){\n    for(let nub in this.boxes){\n      document.removeEventListener('mousemove', this.dragHandeler, false);\n      document.removeEventListener('mouseup', this.mouseUp, false);\n      if (include_nub){\n        this.boxes[nub].removeEventListener('mousedown', this.handleMousedown, false);\n      }\n    }\n  }\n\n}\n\nclass Video extends BlockEmbed {\n\n  static create(src) {\n    let node = super.create();\n    node.builder = new VideoBuilder();\n    let wrapper = document.createElement('div');\n    wrapper.className = 'td-quill-video-wrapper';\n    let iframe = node.builder.buildIFrame(src, node);\n    let overlay = node.builder.buildOverlay();\n    wrapper.appendChild(iframe);\n    wrapper.appendChild(overlay);\n    return node.builder.buildNode(node, wrapper);\n  }\n\n  static formats(domNode) {\n    let iframe = domNode.getElementsByTagName('iframe')[0];\n    return ATTRIBUTES.reduce(function (formats, attribute) {\n      if (iframe.hasAttribute(attribute)) {\n        formats[attribute] = iframe.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  static value(domNode) {\n    return domNode.getElementsByTagName('iframe')[0].getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) { this.domNode.setAttribute(name, value); }\n      else { this.domNode.removeAttribute(name); }\n    }\n    else { super.format(name, value); }\n  }\n\n}\nVideo.blotName = 'video';\nVideo.className = 'td-video';\nVideo.tagName = 'div';\n\nexport { Video }\n","import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Container, Row } from \"react-bootstrap\";\nimport Dropzone from \"react-dropzone\";\nimport update from \"immutability-helper\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport { ImageResize } from \"./ImageResize\";\nimport { Video } from \"./quill-video-resize\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./index.css\";\n\nQuill.register(\"modules/imageResize\", ImageResize);\nQuill.register({ \"formats/video\": Video });\n\nconst imageMaxSize = 1000000000; //bytes\nconst acceptedFileTypes =\n  \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\";\nconst acceptedFileTypesArray = acceptedFileTypes\n  .split(\",\")\n  .map((item) => item.trim());\n\nclass ReviewForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedFiles: [],\n      tag:\"\",\n      title:\"\",\n      content:this.props.contentEdit,\n      description:\"\",\n      linkEdit:\"\",\n      idEdit:\"\",\n      imagePreviews: [],\n    };\n  }\n\n  componentDidMount() {\n    this.attachQuillRefs(true);\n    this.setState({\n      idEdit:this.props.idEdit,\n      imagePreviews:[this.props.thumbnailEdit]\n    })\n  }\n\n\n\n\n  attachQuillRefs = (onMount) => {\n    if (typeof this.reactQuill.getEditor !== \"function\") return;\n    this.quill = this.reactQuill.getEditor();\n    this.quill.root.addEventListener(\"click\", this.handleClick, false);\n    this.quill.root.quill = this.quill;\n  };\n\n  \n\n  handleSubmit = (event) => {\n        event.preventDefault();        let token = JSON.parse(localStorage.getItem(\"data\")).token\n\n      fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/post/update/'+this.state.idEdit+'/'+token,{\n          method:'PUT',\n          headers:{\n              'Accept':'application/json',\n              'Content-Type':'application/json'\n          },\n          body:JSON.stringify(\n\n              {\n\n                  title:event.target.title.value,\n                  tag:event.target.tag.value,\n                  description:event.target.description.value,\n                  thumbnail:this.state.imagePreviews[0],\n                  content:this.state.content,\n                  link:event.target.link.value\n                 \n              \n              }\n          )\n      })\n      .then(res=> res.json())\n      .then((result)=>\n      {\n          alert(JSON.stringify(result.status));\n          this.props.refreshList()\n\n          this.props.onHide()\n\n      },)\n  }\n  handleChange = (value) => {\n    this.setState({\n      content: value,\n    });\n  };\n\n  verifyFiles = (files) => {\n    if (files && files.length > 0) {\n      let currentFile = files[0];\n      let currentFileType = currentFile.type;\n      let currentFileSize = currentFile.size;\n\n      if (currentFileSize > imageMaxSize) {\n        return false;\n      }\n\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  onFileDropped = (acceptedFiles, rejectedFiles) => {\n    let files = this.state.uploadedFiles;\n    let filesPreview = this.state.imagePreviews;\n    if (this.verifyFiles(acceptedFiles)) {\n      files.push(acceptedFiles[0]);\n\n      let currentFile = acceptedFiles[0];\n      let reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        filesPreview.push(reader.result);\n        this.setState({\n          imagePreviews: filesPreview,\n        });\n      });\n      reader.readAsDataURL(currentFile);\n\n      this.setState({\n        uploadedFiles: files || null,\n      });\n    }\n  };\n\n  handleRemove = (index) => {\n    let listPreviews = update(this.state.imagePreviews, {});\n    let listUpload = update(this.state.uploadedFiles, {});\n    if (listPreviews.length > 0 && listUpload.length > 0) {\n      listPreviews.splice(index, 1);\n      listUpload.splice(index, 1);\n      this.setState({\n        imagePreviews: listPreviews,\n        uploadedFiles: listUpload,\n      });\n    }\n  };\n\n  renderDropZone(fileName) {\n    return (\n      <Dropzone\n        onDrop={this.onFileDropped}\n        id=\"dropzone-upload-component\"\n        accept={acceptedFileTypes}\n        multiple={false}\n      >\n        <div>{fileName}</div>\n      </Dropzone>\n    );\n  }\n\n  render() {\n    let fileName = \"Upload Thumbnail\";\n    const modulesQill = {\n      toolbar: [\n        [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n        [{ size: [] }],\n        [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n        [\n          { list: \"ordered\" },\n          { list: \"bullet\" },\n          { indent: \"-1\" },\n          { indent: \"+1\" },\n        ],\n        [\"link\", \"image\", \"video\"],\n        [\"clean\"],\n      ],\n      clipboard: {\n        matchVisual: false,\n      },\n      history: {\n        delay: 1000,\n        maxStack: 50,\n        userOnly: false,\n      },\n      imageResize: {\n        displayStyles: {\n          backgroundColor: \"black\",\n          border: \"none\",\n          color: \"white\",\n        },\n        modules: [\"Resize\", \"DisplaySize\", \"Toolbar\"],\n      },\n    };\n    const formats = [\n      \"header\",\n      \"font\",\n      \"size\",\n      \"bold\",\n      \"italic\",\n      \"underline\",\n      \"strike\",\n      \"blockquote\",\n      \"list\",\n      \"bullet\",\n      \"indent\",\n      \"link\",\n      \"image\",\n      \"video\",\n    ];\n    let imagePreviews = this.state.imagePreviews;\n    return (\n      <div>\n        <Form onSubmit={this.handleSubmit}>\n        <Form.Group controlId=\"title\">\n            <Form.Control\n              type=\"text\"\n              defaultValue = {this.props.titleEdit}\n              placeholder=\"Enter Title \"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"link\">\n            <Form.Control\n              type=\"text\"\n              defaultValue = {this.props.linkEdit}\n              placeholder=\"Enter link \"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"tag\">\n            <Form.Control\n              type=\"text\"\n              defaultValue = {this.props.tagEdit}\n              placeholder=\"Enter Tag \"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"upload-image\">\n            {this.renderDropZone(fileName)}\n            <Container>\n              <Row>\n                {imagePreviews.length > 0\n                  ? imagePreviews.map((imgSrc, index) => {\n                      return (\n                        <div key={index} className=\"img-inline\">\n                          <img src={imgSrc} className=\"img-preview\" />\n                          <i onClick={() => this.handleRemove(index)}>✘</i>\n                        </div>\n                      );\n                    })\n                  : \"\"}\n              </Row>\n            </Container>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Control\n              type=\"text\"\n              name=\"description\"\n              placeholder=\"Enter Description\"\n              defaultValue = {this.props.descriptionEdit}\n              as=\"textarea\"\n              rows={3}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"editor\">\n            <ReactQuill\n              value={this.state.content}\n              // defaultValue ={this.props.contentEdit}\n              onChange={this.handleChange}\n              modules={modulesQill}\n              formats={formats}\n              theme={\"snow\"}\n              placeholder={\"Enter new content here...\"}\n              ref={(el) => {\n                this.reactQuill = el;\n              }}\n              style={{ height: \"300px\" }}\n            />\n          </Form.Group>\n          <br/>\n          <br/>\n          <br/>\n          <Form.Group>\n          <Button variant=\"primary\" type=\"submit\">\n              Cập nhật\n            </Button>\n            </Form.Group>\n        </Form>\n       \n      </div>\n    );\n  }\n}\n\nexport default ReviewForm;\n","import React, { Component } from \"react\";\r\nimport { Modal, Button, Row, Col, Form } from \"react-bootstrap\";\r\nimport ReviewForm from \"./ReviewForm\";\r\n\r\n\r\nclass EditNewModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { snackbaropen: false, snackbarmsg: \"\" };\r\n    // this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  snackbarClose = (event) => {\r\n    this.setState({ snackbaropen: false });\r\n  };\r\n\r\n \r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n       \r\n        <Modal\r\n          {...this.props}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n              Thêm dịch vụ\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={1}></Col>\r\n              <Col md={10}>\r\n                <ReviewForm \r\n                  show = {this.props.show}\r\n                  onHide={this.props.onHide}\r\n                  idEdit = {this.props.idEdit}\r\n                  titleEdit = {this.props.titleEdit}\r\n                  tagEdit = {this.props.tagEdit}\r\n                  contentEdit={this.props.contentEdit}\r\n                  descriptionEdit = {this.props.descriptionEdit}\r\n                  thumbnailEdit={this.props.thumbnailEdit}\r\n                  linkEdit={this.props.linkEdit}\r\n                  refreshList= {this.props.refreshList}\r\n                />\r\n              </Col>\r\n              <Col md={1}></Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default EditNewModal;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport SkeletonLoader from \"tiny-skeleton-loader-react\";\r\nimport AddNewModal from '../components/AddNewModal/AddNewModal';\r\nimport EditNewModal from '../components/EditNewModal/EditNewModal';\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from '../components/Header'\r\nimport Menu from '../components/Menu'\r\nimport Footer from '../components/Footer'\r\n\r\nexport default class QlTintuc extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { news: [], isLoading: true,addModalShow : false, editModalShow : false };\r\n  }\r\n  componentDidMount() {\r\n    this.refreshList();\r\n  }\r\n  refreshList=()=> {\r\n    this.setState({ isLoading: true })\r\n    axios\r\n      .get(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/post\"\r\n      )\r\n      .then((res) => this.setState({ news: res.data, isLoading: false }))\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  }\r\n  deleteBlog=(id)=>{\r\n    let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n    this.setState({ isLoading: true })\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Cookie\", \"__cfduid=da615458fc4e1c5298a7af3e001f850441605104174\");\r\n    \r\n    var requestOptions = {\r\n      method: 'DELETE',\r\n      headers: myHeaders,\r\n      redirect: 'follow'\r\n    };\r\n    \r\n    fetch(\"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/post/delete/\"+id+\"/\"+token, requestOptions)\r\n      .then(response => response.json())\r\n      .then(result => alert(result.status))\r\n      .then(this.refreshList)\r\n      .catch(error => console.log('error', error));\r\n  \r\n  }\r\n  render() {\r\n    const {isLoading,news ,idModal,titleModal,tagModal,descriptionModal,thumbnailModal,linkModal,contentModal} = this.state;\r\n    let addModalClose =() => this.setState({addModalShow:false});\r\n    let editModalClose =() => this.setState({editModalShow:false});\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Menu />\r\n        <div className=\"content-wrapper\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Quản lý tin tức</h1>\r\n                </div>\r\n            \r\n              </div>\r\n            </div>\r\n            {/* /.container-fluid */}\r\n          </section>\r\n          {/* Main content */}\r\n          <section className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h3 className=\"card-title\">Danh sách tin tức </h3>\r\n                      <div class=\"float-right\">\r\n                        {\" \"}\r\n                        <button type=\"button\" onClick={()=> this.setState({addModalShow: true})} class=\"btn btn-danger\">\r\n                          {\" \"}\r\n                          <a class=\"text-light\">\r\n                            Thêm tin tức\r\n                          </a>\r\n                        </button>\r\n                        <AddNewModal\r\n                            show={this.state.addModalShow}\r\n                            onHide={addModalClose}\r\n                            refreshList= {this.refreshList}\r\n\r\n                            />\r\n                      </div>\r\n                    </div>\r\n                    {/* /.card-header */}\r\n                    <div className=\"card-body\">\r\n                    {isLoading ? <SkeletonLoader style={{ width: \"100%\", height: 700 }} /> :  <table\r\n                        id=\"example2\"\r\n                        className=\"table table-bordered table-hover\"\r\n                      >\r\n                        <thead>\r\n                          <tr>\r\n                            <th>ID</th>\r\n                            <th>Title</th>\r\n                            <th>Tag</th>\r\n                            <th>Description</th>\r\n                            <th>Thumbnail</th>\r\n                            {/* <th>Content</th> */}\r\n                            <th>Link</th>\r\n                            <th>Create By</th>\r\n                            <th>Sửa</th>\r\n                            <th>Xóa</th>\r\n                          </tr>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                        {news.map((item) => (\r\n                            <tr key={item.blogID}>\r\n                              <td>{item.blogID}</td>\r\n                              <td>{item.title}</td>\r\n                              <td>{item.tag}</td>\r\n                              <td>{item.description}</td>\r\n                              <td> <img style={{ width: \"360px\", height: \"180px\" }} src={item.thumbnail} /></td>\r\n                              {/* <td>{item.content}</td> */}\r\n                              <td>{item.link}</td>\r\n                              <td>{item.by}</td>\r\n                              <td>\r\n                                <Link \r\n                                onClick={()=> this.setState({editModalShow:true, idModal:item.blogID,titleModal:item.title,contentModal:item.content, tagModal:item.tag, descriptionModal:item.description,thumbnailModal:item.thumbnail,linkModal:item.link})}\r\n                                > \r\n                                 <i className=\"fas fa-edit\"> </i>\r\n                                \r\n                                 </Link>\r\n                                 \r\n                            \r\n                              </td>\r\n                            \r\n                              <td>\r\n                                <Link \r\n                                onClick={()=> this.deleteBlog(item.blogID)} \r\n                                >\r\n                                  <i className=\"fas fa-trash-alt\"  />\r\n                                </Link>\r\n                              </td>\r\n                              <EditNewModal style={{diskplay: \"none\"}}\r\n                            show = {this.state.editModalShow}\r\n                            onHide={editModalClose}\r\n                            idEdit = {idModal}\r\n                            titleEdit = {titleModal}\r\n                            tagEdit = {tagModal}\r\n                            contentEdit={contentModal}\r\n                            descriptionEdit = {descriptionModal}\r\n                            thumbnailEdit={thumbnailModal}\r\n                            linkEdit={linkModal}\r\n                            refreshList= {this.refreshList}\r\n                            />\r\n                            </tr>\r\n                            \r\n                          ))}\r\n                        </tbody>\r\n                       \r\n                      </table>\r\n                      \r\n                      }\r\n                    </div>\r\n                    {/* /.card-body */}\r\n                  </div>\r\n                  {/* /.card */}\r\n                  {/* /.card */}\r\n                </div>\r\n                {/* /.col */}\r\n              </div>\r\n              {/* /.row */}\r\n            </div>\r\n            {/* /.container-fluid */}\r\n          </section>\r\n          {/* /.content */}\r\n        </div>\r\n        <Footer/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\n\r\n\r\nexport class EditUserModal extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    snackbarClose = (event) =>{\r\n        this.setState({snackbaropen:false});\r\n    };\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        // let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n        fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/user/update/'+this.props.tokenEdit,{\r\n            method:'PUT',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify(\r\n                \r\n                {\r\n                  fullName: event.target.fullName.value,\r\n                  email: event.target.email.value,\r\n                  numberPhone: event.target.numberPhone.value,\r\n                  passWord: event.target.passWord.value,\r\n                  role: event.target.role.value,\r\n                }\r\n            )\r\n        })\r\n        .then(res=> res.json())\r\n        .then((result)=>\r\n        {\r\n            alert(JSON.stringify(result.status));\r\n            this.props.refreshList()\r\n            this.props.onHide()\r\n        },\r\n        \r\n        )\r\n   \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n            <Modal\r\n          {...this.props}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n              Update Người Dùng\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col sm={6}>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                  <Form.Group controlID=\"fullName\">\r\n                    <Form.Label>Họ Tên</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"fullName\"\r\n                      required\r\n                      placeholder=\"Họ Tên\"\r\n                      defaultValue = {this.props.fullNameEdit}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"email\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"email\"\r\n                      required\r\n                      placeholder=\"Email\"\r\n                      defaultValue = {this.props.emailEdit}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"numberPhone\">\r\n                    <Form.Label>Số điện thoại</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"numberPhone\"\r\n                      required\r\n                      placeholder=\"Số Điện Thoại\"\r\n                      defaultValue = {this.props.numberPhoneEdit}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"passWord\">\r\n                    <Form.Label>Mật Khẩu</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      name=\"passWord\"\r\n                      required\r\n                      placeholder=\"Mật Khẩu\"\r\n                      defaultValue = {this.props.passWordEdit}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"role\">\r\n                    <Form.Label>Vai Trò</Form.Label>\r\n                    <Form.Control as=\"select\" name=\"role\"  defaultValue = {this.props.roleEdit} required>\r\n                      <option value=\"admin\">Admin</option>\r\n                      <option value=\"user\">User</option>\r\n                     </Form.Control>\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                      Cập Nhật\r\n                    </Button>\r\n                  </Form.Group>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        </div>\r\n        );\r\n    }\r\n\r\n}","import React, { Component } from \"react\";\r\nimport { Modal, Button, Row, Col, Form } from \"react-bootstrap\";\r\n\r\nexport class AddUserModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n    fetch(\r\n      \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/user/\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          fullName: event.target.fullName.value,\r\n          email: event.target.email.value,\r\n          numberPhone: event.target.numberPhone.value,\r\n          passWord: event.target.passWord.value,\r\n          role: event.target.role.value,\r\n        \r\n        }),\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        alert(JSON.stringify(result.status));\r\n        this.props.refreshList();\r\n        this.props.onHide();\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Modal\r\n          {...this.props}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n              Thêm người dùng\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col sm={6}>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                  <Form.Group controlID=\"fullName\">\r\n                    <Form.Label>Họ Tên</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"fullName\"\r\n                      required\r\n                      placeholder=\"Họ Tên\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"email\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"email\"\r\n                      required\r\n                      placeholder=\"Email\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"numberPhone\">\r\n                    <Form.Label>Số điện thoại</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"numberPhone\"\r\n                      required\r\n                      placeholder=\"Số Điện Thoại\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"passWord\">\r\n                    <Form.Label>Mật Khẩu</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      name=\"passWord\"\r\n                      required\r\n                      placeholder=\"Mật Khẩu\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlID=\"role\">\r\n                    <Form.Label>Vai Trò</Form.Label>\r\n                    <Form.Control as=\"select\" name=\"role\" required>\r\n                      <option value=\"admin\">admin</option>\r\n                      <option value=\"user\">user</option>\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                  <Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                      Thêm\r\n                    </Button>\r\n                  </Form.Group>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SkeletonLoader from \"tiny-skeleton-loader-react\";\r\nimport { EditUserModal } from \"../components/EditUserModal\";\r\nimport { AddUserModal } from \"../components/AddUserModal\";\r\nimport { Button, ButtonToolbar } from \"react-bootstrap\";\r\nimport Header from \"../components/Header\";\r\nimport Menu from \"../components/Menu\";\r\nimport Footer from \"../components/Footer\";\r\nimport './Login.css'\r\nclass QlUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      users: [],\r\n      isLoading: true,\r\n      addModalShow: false,\r\n      editModalShow: false,\r\n      value: \"all\",\r\n      userFilter: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.refreshList();\r\n  }\r\n  refreshList = () => {\r\n    this.setState({ isLoading: true });\r\n    axios\r\n      .get(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/user\"\r\n      )\r\n      .then((res) =>\r\n        this.setState({\r\n          userFilter: res.data,\r\n          users: res.data,\r\n          isLoading: false,\r\n        })\r\n      )\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  };\r\n  deleteUser(tokenUser) {\r\n    if (window.confirm(\"Bạn có chắc là mình muốn xóa?\")) {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Cookie\",\r\n        \"__cfduid=da615458fc4e1c5298a7af3e001f850441605104174\"\r\n      );\r\n\r\n      var requestOptions = {\r\n        method: \"DELETE\",\r\n        headers: myHeaders,\r\n        redirect: \"follow\",\r\n      };\r\n      let token = JSON.parse(localStorage.getItem(\"data\")).token;\r\n\r\n      fetch(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/user/delete/\" +\r\n          tokenUser,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => alert(result.status))\r\n        .then(this.refreshList)\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  }\r\n  filter = (data) => {\r\n    if (data === \"all\") {\r\n      this.setState({\r\n        value: data,\r\n        userFilter: this.state.users,\r\n      });\r\n    } else {\r\n      let beforeFilter = this.state.users.filter((user) =>\r\n        user.role.includes(data)\r\n      );\r\n      this.setState({\r\n        value: data,\r\n        userFilter: beforeFilter,\r\n      });\r\n    }\r\n  };\r\n  change = (event) => {\r\n    console.log(event.target.value);\r\n    this.filter(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isLoading,\r\n      userFilter,\r\n      fullNameEdit,\r\n      emailEdit,\r\n      numberPhoneEdit,\r\n      passWordEdit,\r\n      roleEdit,\r\n      tokenEdit\r\n    } = this.state;\r\n\r\n    let addModalClose = () => this.setState({ addModalShow: false });\r\n    let editModalClose = () => this.setState({ editModalShow: false });\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Menu />\r\n        <div className=\"content-wrapper\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Quản lý người dùng</h1>\r\n                </div>\r\n               \r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h3 className=\"card-title\">Danh sách người dùng</h3>\r\n                      <div class=\"float-right\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => this.setState({ addModalShow: true })}\r\n                          class=\"btn btn-danger\"\r\n                        >\r\n                          <a class=\"text-light\">Thêm Người Dùng</a>\r\n                        </button>\r\n                        <AddUserModal\r\n                          show={this.state.addModalShow}\r\n                          onHide={addModalClose}\r\n                          refreshList={this.refreshList}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <select\r\n                        id=\"lang\"\r\n                        onChange={this.change}\r\n                        value={this.state.value}\r\n                      >\r\n                        <option value=\"all\">All</option>\r\n                        <option value=\"admin\">Admin</option>\r\n                        <option value=\"user\">User</option>\r\n                      </select>\r\n                      <br />\r\n                      <br />\r\n                      {isLoading ? (\r\n                        <SkeletonLoader\r\n                          style={{ width: \"100%\", height: 700 }}\r\n                        />\r\n                      ) : (\r\n                        <table\r\n                          id=\"example2\"\r\n                          className=\"table table-bordered table-hover\"\r\n                        >\r\n                          <thead>\r\n                            <tr>\r\n                              {/* <th>ID</th> */}\r\n                              <th>Họ tên</th>\r\n                              <th>Số điện thoại</th>\r\n                              <th>Mật khẩu</th>\r\n                              <th>Email</th>\r\n                              <th>Vai Trò</th>\r\n                              <th>Xóa</th>\r\n                              <th>Sửa</th>\r\n                            </tr>\r\n                          </thead>\r\n\r\n                          <tbody>\r\n                            {userFilter.map((user) => (\r\n                              <tr key={user.token}>\r\n                                <td>{user.fullName}</td>\r\n                                <td>{user.numberPhone}</td>\r\n                               <td id=\"pass\"><a> {user.passWord} </a></td>\r\n                                <td>{user.email}</td>\r\n                                <td>{user.role}</td>\r\n                                <td>\r\n                                  <Link\r\n                                    onClick={() =>\r\n                                      this.setState({\r\n                                        editModalShow: true,\r\n                                        fullNameEdit: user.fullName,\r\n                                        emailEdit: user.email,\r\n                                        numberPhoneEdit: user.numberPhone,\r\n                                        passWordEdit: user.passWord,\r\n                                        roleEdit:user.role,\r\n                                        tokenEdit:user.token\r\n                                      })\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-edit\"> </i>\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <td>\r\n                                  <Link\r\n                                    onClick={() => this.deleteUser(user.token)}\r\n                                  >\r\n                                    <i className=\"fas fa-trash-alt\" />\r\n                                  </Link>\r\n                                </td>\r\n                                <EditUserModal\r\n                                  style={{ diskplay: \"none\" }}\r\n                                  show={this.state.editModalShow}\r\n                                  onHide={editModalClose}\r\n                                  fullNameEdit={fullNameEdit}\r\n                                  emailEdit={emailEdit}\r\n                                  numberPhoneEdit={numberPhoneEdit}\r\n                                  passWordEdit={passWordEdit}\r\n                                  refreshList={this.refreshList}\r\n                                  roleEdit={roleEdit}\r\n                                  tokenEdit={tokenEdit}\r\n                                  \r\n                                />\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QlUser;\r\n","import React, {Component} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\n\r\nimport 'react-dates/initialize';\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { DateRangePicker} from 'react-dates';\r\nexport class EditVoucherModal extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            startDate:null,\r\n            endDate:null\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    converts(str) {\r\n        var date = new Date(str),\r\n          mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\r\n          day = (\"0\" + date.getDate()).slice(-2);\r\n        return [ day,mnth, date.getFullYear()].join(\"-\");\r\n      }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n        fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/voucher/'+token+'/update',{\r\n            method:'PUT',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify(\r\n                \r\n                {   voucherCode:this.props.voucherCodeEdit,\r\n                    name: event.target.name.value,\r\n                    description: event.target.description.value,\r\n                    price: event.target.price.value,\r\n                    begin:  this.converts(this.state.startDate._d),\r\n                    end: this.converts(this.state.endDate._d)\r\n                }\r\n            )\r\n        })\r\n        .then(res=> res.json())\r\n        .then((result)=>\r\n        {\r\n            alert(JSON.stringify(result.status));\r\n            this.props.refreshList()\r\n            this.props.onHide()\r\n        },\r\n        \r\n        )\r\n   \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n            <Modal\r\n        {...this.props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n             Cập nhật mã khuyến mại\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        \r\n                <Row>\r\n                    <Col sm={6}>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Group>\r\n                    <Form.Label>Thời Gian</Form.Label>\r\n                    <br/>\r\n                    {/* <Form.Control> */}\r\n                    <DateRangePicker\r\n                    startDate={this.state.startDate} // momentPropTypes.momentObj or null,\r\n                    startDateId=\"your_unique_start_date_id\" // PropTypes.string.isRequired,\r\n                    endDate={this.state.endDate} // momentPropTypes.momentObj or null,\r\n                    endDateId=\"your_unique_end_date_id\" // PropTypes.string.isRequired,\r\n                    onDatesChange={({ startDate, endDate }) => this.setState({ startDate, endDate })} // PropTypes.func.isRequired,\r\n                    focusedInput={this.state.focusedInput} // PropTypes.oneOf([START_DATE, END_DATE]) or null,\r\n                    onFocusChange={focusedInput => this.setState({ focusedInput })} // PropTypes.func.isRequired,\r\n                    required\r\n\r\n                    />\r\n                    {/* </Form.Control> */}\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"voucherCode\">\r\n                    <Form.Label>Mã voucher</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"voucherCode\"\r\n                        required\r\n                        placeholder=\"Mã voucher\"\r\n                        defaultValue = {this.props.voucherCodeEdit}\r\n                        readOnly \r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"name\">\r\n                    <Form.Label>Tên dịch vụ</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        required\r\n                        placeholder=\"Tên dịch vụ\"\r\n                        defaultValue = {this.props.nameEdit}\r\n\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"description\">\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        required\r\n                        placeholder=\"Mô tả\"\r\n                        defaultValue = {this.props.descriptionEdit}\r\n\r\n                    />\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group controlID=\"price\">\r\n                    <Form.Label>Giá giảm</Form.Label>\r\n                    <Form.Control\r\n                        type=\"price\"\r\n                        name=\"price\"\r\n                        required\r\n                        placeholder=\"Giá giảm\"\r\n                        defaultValue = {this.props.priceEdit}\r\n\r\n                    />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Cập Nhật\r\n                        </Button>\r\n                    </Form.Group>\r\n                    </Form>\r\n                    </Col>\r\n\r\n                </Row>\r\n\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        </div>\r\n        );\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\nimport 'react-dates/initialize';\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { DateRangePicker} from 'react-dates';\r\nexport class AddVoucherModal extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            startDate:null,\r\n            endDate:null\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n     \r\n    converts(str) {\r\n        var date = new Date(str),\r\n          mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\r\n          day = (\"0\" + date.getDate()).slice(-2);\r\n        return [ day,mnth, date.getFullYear()].join(\"-\");\r\n      }\r\n    handleSubmit(event){\r\n        \r\n        event.preventDefault();\r\n        // console.log()\r\n        // console.log(JSON.stringify(\r\n        //     {\r\n        //         \"voucherCode\": event.target.voucherCode.value,\r\n        //         \"name\": event.target.name.value,\r\n        //         \"description\": event.target.description.value,\r\n        //         \"price\": event.target.price.value,\r\n        //         \"begin\": this.converts(this.state.startDate._d),\r\n        //         \"end\": this.converts(this.state.endDate._d)\r\n        //     }\r\n        // ))\r\n        let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n        fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/voucher/'+token+\"/add\",{\r\n            method:'POST',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify(\r\n                \r\n                {\r\n                    voucherCode: event.target.voucherCode.value,\r\n                    name: event.target.name.value,\r\n                    description: event.target.description.value,\r\n                    price: event.target.price.value,\r\n                    begin:  this.converts(this.state.startDate._d),\r\n                    end: this.converts(this.state.endDate._d)\r\n                }\r\n            )\r\n        })\r\n        .then(res=> res.json())\r\n        .then((result)=>\r\n        {\r\n            alert(JSON.stringify(result.status));\r\n            this.props.refreshList()\r\n            this.props.onHide()\r\n        },)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n            <Modal\r\n        {...this.props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n             Thêm mã khuyến mại\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            \r\n\r\n                <Row>\r\n                    <Col sm={6}>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Group>\r\n                    <Form.Label>Thời Gian</Form.Label>\r\n                    <br/>\r\n                    {/* <Form.Control> */}\r\n                    <DateRangePicker\r\n                    startDate={this.state.startDate} // momentPropTypes.momentObj or null,\r\n                    startDateId=\"your_unique_start_date_id\" // PropTypes.string.isRequired,\r\n                    endDate={this.state.endDate} // momentPropTypes.momentObj or null,\r\n                    endDateId=\"your_unique_end_date_id\" // PropTypes.string.isRequired,\r\n                    onDatesChange={({ startDate, endDate }) => this.setState({ startDate, endDate })} // PropTypes.func.isRequired,\r\n                    focusedInput={this.state.focusedInput} // PropTypes.oneOf([START_DATE, END_DATE]) or null,\r\n                    onFocusChange={focusedInput => this.setState({ focusedInput })} // PropTypes.func.isRequired,\r\n                    required\r\n\r\n                    />\r\n                    {/* </Form.Control> */}\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"voucherCode\">\r\n                    <Form.Label>Mã voucher</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"voucherCode\"\r\n                        required\r\n                        placeholder=\"Mã voucher\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"name\">\r\n                    <Form.Label>Tên dịch vụ</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        required\r\n                        placeholder=\"Tên dịch vụ\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"description\">\r\n                    <Form.Label>Mô tả</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        required\r\n                        placeholder=\"Mô tả\"\r\n                    />\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group controlID=\"price\">\r\n                    <Form.Label>Giá giảm</Form.Label>\r\n                    <Form.Control\r\n                        type=\"price\"\r\n                        name=\"price\"\r\n                        required\r\n                        placeholder=\"Giá giảm\"\r\n                    />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Thêm\r\n                        </Button>\r\n                    </Form.Group>\r\n                    </Form>\r\n                    </Col>\r\n\r\n                </Row>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        </div>\r\n        );\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SkeletonLoader from \"tiny-skeleton-loader-react\";\r\nimport {EditVoucherModal} from '../components/EditVoucherModal';\r\nimport { AddVoucherModal } from \"../components/AddVoucherModal\";\r\nimport {Button, ButtonToolbar} from 'react-bootstrap';\r\nimport Header from '../components/Header'\r\nimport Menu from '../components/Menu'\r\nimport Footer from '../components/Footer'\r\n\r\nclass QlKhuyenMai extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { vouchers: [], isLoading: true,addModalShow : false, editModalShow : false };\r\n  }\r\n  componentDidMount() {\r\n    this.refreshList();\r\n  }\r\n  refreshList=()=> {\r\n    this.setState({ isLoading: true })\r\n    axios\r\n      .get(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/voucher\"\r\n      )\r\n      .then((res) => this.setState({ vouchers: res.data, isLoading: false }))\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  }\r\n  deleteVoucher(voucherCode)\r\n  {    let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n      if(window.confirm('Bạn có chắc là mình muốn xóa?'))\r\n      {\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Cookie\", \"__cfduid=da615458fc4e1c5298a7af3e001f850441605104174\");\r\n        \r\n        var requestOptions = {\r\n          method: 'DELETE',\r\n          headers: myHeaders,\r\n          redirect: 'follow'\r\n        };\r\n        \r\n        fetch(\"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/voucher/\"+token+\"/delete/\"+voucherCode, requestOptions)\r\n          .then(response => response.json())\r\n          .then(result => alert(result.status))\r\n          .then(this.refreshList)\r\n          .catch(error => console.log('error', error));\r\n      }\r\n     \r\n  }\r\n  render() {\r\n    const { vouchers, isLoading,voucherCodeModal,nameModal,descriptionModal,priceModal} = this.state;\r\n    let addModalClose =() => this.setState({addModalShow:false});\r\n    let editModalClose =() => this.setState({editModalShow:false});\r\n    let convertsTime=(time)=>{ \r\n      console.log(time)\r\n    let dArr = time.split('T')[0].split(\"-\"); \r\n    return dArr[2]+ \"-\" +dArr[1]+ \"-\" +dArr[0];\r\n  }\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Menu />\r\n        <div className=\"content-wrapper\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Quản lý mã khuyến mại</h1>\r\n                </div>\r\n                \r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h3 className=\"card-title\">Danh sách mã khuyến mại</h3>\r\n                      <div class=\"float-right\">\r\n                        <button type=\"button\" onClick={()=> this.setState({addModalShow: true})} class=\"btn btn-danger\">\r\n                          \r\n                          <a  class=\"text-light\">\r\n                            Thêm mã khuyến mại\r\n                          </a>\r\n                        </button>\r\n                        <AddVoucherModal\r\n                            show={this.state.addModalShow}\r\n                            onHide={addModalClose}\r\n                            refreshList= {this.refreshList}\r\n\r\n                            />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      \r\n                   \r\n                        {isLoading ? <SkeletonLoader style={{ width: \"100%\", height: 700 }} /> :  <table\r\n                        id=\"example2\"\r\n                        className=\"table table-bordered table-hover\"\r\n                      >\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Mã Voucher</th>\r\n                            <th>Tên Voucher</th>\r\n                            <th>Thông Tin Voucher</th>\r\n                            <th>Giảm</th>\r\n                            <th>Ngày Bắt Đầu</th>\r\n                            <th>Ngày Kết Thúc</th>\r\n                            <th>Sửa</th>\r\n                            <th>Xóa</th>\r\n                          </tr>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                          {vouchers.map((voucher) => (\r\n                            <tr key={voucher.voucherCode}>\r\n                              <td>{voucher.voucherCode}</td>\r\n                              <td>{voucher.name}</td>\r\n                              <td>{voucher.description}</td>\r\n                              <td>{voucher.price}</td>\r\n                              <td>{convertsTime(voucher.begin)}</td>\r\n                              <td>{convertsTime(voucher.end)}</td>\r\n                              <td>\r\n                                <Link onClick={()=> this.setState({editModalShow:true, voucherCodeModal:voucher.voucherCode,nameModal:voucher.name, descriptionModal:voucher.description, priceModal:voucher.price})}> \r\n                                 <i className=\"fas fa-edit\"> </i>\r\n                                 </Link>\r\n                              </td>\r\n                              <td>\r\n                                <Link onClick={()=> this.deleteVoucher(voucher.voucherCode)} >\r\n                                  <i className=\"fas fa-trash-alt\"  />\r\n                                </Link>\r\n                              </td>\r\n                              \r\n                              <EditVoucherModal style={{diskplay: \"none\"}}\r\n                            show = {this.state.editModalShow}\r\n                            onHide={editModalClose}\r\n                            voucherCodeEdit={voucherCodeModal}\r\n                            nameEdit = {nameModal}\r\n                            descriptionEdit = {descriptionModal}\r\n                            priceEdit = {priceModal}\r\n                            refreshList= {this.refreshList}\r\n                            />\r\n                            </tr>\r\n                            \r\n                          ))}\r\n                        </tbody>\r\n                       \r\n                      </table>\r\n                      \r\n                      }\r\n                     \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <Footer/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QlKhuyenMai;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SkeletonLoader from \"tiny-skeleton-loader-react\";\r\nimport { EditServiceModal } from \"../components/EditServiceModal\";\r\nimport { AddServiceModal } from \"../components/AddServiceModal\";\r\nimport { Button, ButtonToolbar } from \"react-bootstrap\";\r\nimport Header from '../components/Header'\r\nimport Menu from '../components/Menu'\r\nimport Footer from '../components/Footer'\r\n\r\nclass QlDonDatHang extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      orders: [],\r\n      isLoading: true,\r\n      addModalShow: false,\r\n      editModalShow: false,\r\n      ordersFilter: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.refreshList();\r\n  }\r\n  refreshList = () => {\r\n    this.setState({ isLoading: true });\r\n    axios\r\n      .get(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/order/today\"\r\n      )\r\n      .then((res) =>\r\n        this.setState({\r\n          orders: res.data,\r\n          ordersFilter: res.data,\r\n          isLoading: false,\r\n        })\r\n      )\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  };\r\n  checkin(id) {\r\n    if (window.confirm(\"Bạn có chắc là khách đã đến?\")) {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Cookie\",\r\n        \"__cfduid=da615458fc4e1c5298a7af3e001f850441605104174\"\r\n      );\r\n      var requestOptions = {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/order/checkin/\" +\r\n          id,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.text())\r\n        .then((result) => alert(JSON.parse(result).status))\r\n        .then(this.refreshList)\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  }\r\n  payout(id, totalPrice) {\r\n    let x = parseInt(totalPrice).toLocaleString(\"it-IT\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n    });\r\n    if (window.confirm(\"Bạn muốn thanh toán \" + x + \" ?\")) {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Cookie\",\r\n        \"__cfduid=da615458fc4e1c5298a7af3e001f850441605104174\"\r\n      );\r\n      var requestOptions = {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/order/payout/\" +\r\n          id,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.text())\r\n        .then((result) => alert(JSON.parse(result).status))\r\n        .then(this.refreshList)\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  }\r\n  filter = (data) => {\r\n    if (data == \"all\") {\r\n      this.setState({\r\n        value: data,\r\n        ordersFilter: this.state.orders,\r\n      });\r\n    } else {\r\n      let beforeFilter = this.state.orders.filter((order) =>\r\n        order.status.includes(data)\r\n      );\r\n      this.setState({\r\n        value: data,\r\n        ordersFilter: beforeFilter,\r\n      });\r\n    }\r\n  };\r\n  change = (event) => {\r\n    // console.log(event.target.value);\r\n    this.filter(event.target.value);\r\n  };\r\n  renderButton1(id, status) {\r\n    if (status == \"booking\") {\r\n      return (\r\n        <td>\r\n          <Link onClick={() => this.checkin(id)}>\r\n            <i className=\"fas fa-check-circle fa-3x\"></i>\r\n          </Link>\r\n        </td>\r\n      );\r\n    }\r\n    return (\r\n      <td>\r\n        {/* <Link onClick={() => this.checkin(id)}> */}\r\n        <i className=\"fas fa-check-circle fa-3x\"></i>\r\n        {/* </Link> */}\r\n      </td>\r\n    );\r\n  }\r\n  renderButton2(id, totalPrice,status) {\r\n    if (status == \"Checkin\") {\r\n      return (\r\n        <td>\r\n          <Link onClick={() => this.payout(id, totalPrice)}>\r\n            <i className=\"fas fa-coins fa-3x\"></i>\r\n          </Link>\r\n        </td>\r\n      );\r\n    }\r\n    return (\r\n      <td>\r\n        {/* <Link onClick={() => this.payout(id, totalPrice)}> */}\r\n          <i className=\"fas fa-coins fa-3x\"></i>\r\n        {/* </Link> */}\r\n      </td>\r\n    );\r\n  }\r\n  render() {\r\n    const {\r\n      orders,\r\n      isLoading,\r\n      nameModal,\r\n      descriptionModal,\r\n      priceModal,\r\n      idModal,\r\n      ordersFilter,\r\n    } = this.state;\r\n\r\n    let addModalClose = () => this.setState({ addModalShow: false });\r\n    let editModalClose = () => this.setState({ editModalShow: false });\r\n    return (\r\n      <div>\r\n         <Header/>\r\n       <Menu/>\r\n        <div className=\"content-wrapper\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Quản lý đơn đặt hàng</h1>\r\n                </div>\r\n          \r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h3 className=\"card-title\">Danh sách đơn đặt hàng</h3>\r\n                      <div class=\"float-right\">\r\n                        {/* <button type=\"button\" onClick={()=> this.setState({addModalShow: true})} class=\"btn btn-danger\">\r\n                          \r\n                          <a  class=\"text-light\">\r\n                            Thêm Dịch Vụ\r\n                          </a>\r\n                        </button> */}\r\n                        {/* <AddServiceModal\r\n                            show={this.state.addModalShow}\r\n                            onHide={addModalClose}\r\n                            refreshList= {this.refreshList}\r\n\r\n                            /> */}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <select\r\n                        id=\"lang\"\r\n                        onChange={this.change}\r\n                        value={this.state.value}\r\n                      >\r\n                        <option value=\"all\">All</option>\r\n                        <option value=\"Cancel\">Cancel</option>\r\n                        <option value=\"booking\">Chưa Tới</option>\r\n                        <option value=\"Checkin\">Đã Tới</option>\r\n                        <option value=\"PayoutSuccess\">Đã Thanh Toán</option>\r\n                      </select>\r\n                      <br/>\r\n                      <br/>\r\n                      {isLoading ? (\r\n                        <SkeletonLoader\r\n                          style={{ width: \"100%\", height: 700 }}\r\n                        />\r\n                      ) : (\r\n                        <table\r\n                          id=\"example2\"\r\n                          className=\"table table-bordered table-hover\"\r\n                        >\r\n                          <thead>\r\n                            <tr>\r\n                              {/* <th>ID</th> */}\r\n                              <th>Tên Khách Hàng</th>\r\n                              <th>Số Điện Thoại</th>\r\n                              <th>Tên Dịch Vụ</th>\r\n                              <th>Giờ Đặt</th>\r\n                              <th>Tổng Tiền</th>\r\n                              <th>Status</th>\r\n                              <th>Check in</th>\r\n                              <th>Thanh Toán</th>\r\n                            </tr>\r\n                          </thead>\r\n                          {/* <i class=\"fas fa-check-circle\"></i>  */}\r\n                          <tbody>\r\n                            {ordersFilter.map((order) => (\r\n                              <tr key={order.numberPhone}>\r\n                                <td>{order.fullname}</td>\r\n                                <td>{order.numberPhone}</td>\r\n                                <td>{order.service.name}</td>\r\n                                <td>{order.timeBooked}</td>\r\n                                <td>\r\n                                  {parseInt(order.totalPrice).toLocaleString(\r\n                                    \"it-IT\",\r\n                                    {\r\n                                      style: \"currency\",\r\n                                      currency: \"VND\",\r\n                                    }\r\n                                  )}\r\n                                </td>\r\n                                <td>{order.status}</td>\r\n                                {/*  */}\r\n                                {this.renderButton1(order.id, order.status)}\r\n                                {this.renderButton2(\r\n                                  order.id,\r\n                                  order.totalPrice,\r\n                                  order.status\r\n                                )}\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <Footer/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QlDonDatHang;\r\n","import React, {Component} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\n\r\n\r\nexport class EditServiceModal extends Component{\r\n    constructor(props){\r\n        super(props);\r\n       \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n  \r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n        fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/service/'+token+'/update/'+this.props.idEdit,{\r\n            method:'PUT',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify(\r\n                \r\n                {\r\n                    \"price\": event.target.price.value,\r\n                    \"name\": event.target.name.value,\r\n                    \"description\": event.target.description.value\r\n                }\r\n            )\r\n        })\r\n        .then(res=> res.json())\r\n        .then((result)=>\r\n        {\r\n            alert(JSON.stringify(result.status));\r\n            this.props.refreshList()\r\n            this.props.onHide()\r\n        },\r\n        \r\n        )\r\n   \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n            <Modal\r\n        {...this.props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n             Cập nhật dịch vụ\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        \r\n                <Row>\r\n                    <Col sm={6}>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Group controlID=\"name\">\r\n                    <Form.Label>Dịch vụ</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        required\r\n                        defaultValue = {this.props.nameEdit}\r\n                        placeholder=\"Tên dịch vụ\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"description\">\r\n                    <Form.Label>Dịch vụ</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        required\r\n                        defaultValue = {this.props.descriptionEdit}\r\n                        placeholder=\"Mô tả\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"price\">\r\n                    <Form.Label>Giá tiền</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"price\"\r\n                        required\r\n                        defaultValue = {this.props.priceEdit}\r\n                        placeholder=\"Giá tiền\"\r\n                    />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Cập nhật\r\n                        </Button>\r\n                    </Form.Group>\r\n                    </Form>\r\n                    </Col>\r\n\r\n                </Row>\r\n\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        </div>\r\n        );\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport {Modal, Button, Row, Col, Form} from 'react-bootstrap';\r\n\r\n\r\n\r\nexport class AddServiceModal extends Component{\r\n    constructor(props){\r\n        super(props);\r\n       \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n   \r\n  \r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let token = JSON.parse(localStorage.getItem(\"data\")).token\r\n\r\n        fetch('https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/service/'+token,{\r\n            method:'POST',\r\n            headers:{\r\n                'Accept':'application/json',\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify(\r\n                \r\n                {\r\n                    \"price\": event.target.price.value,\r\n                    \"name\": event.target.name.value,\r\n                    \"description\": event.target.description.value\r\n                }\r\n            )\r\n        })\r\n        .then(res=> res.json())\r\n        .then((result)=>\r\n        {\r\n            alert(JSON.stringify(result.status));\r\n            this.props.refreshList()\r\n            this.props.onHide()\r\n        },)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n       \r\n            <Modal\r\n        {...this.props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n             Thêm dịch vụ\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            \r\n\r\n                <Row>\r\n                    <Col sm={6}>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Group controlID=\"name\">\r\n                    <Form.Label>Dịch vụ</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        required\r\n                        placeholder=\"Tên dịch vụ\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"description\">\r\n                    <Form.Label>Dịch vụ</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        required\r\n                        placeholder=\"Mô tả\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Form.Group controlID=\"price\">\r\n                    <Form.Label>Giá tiền</Form.Label>\r\n                    <Form.Control\r\n                        type=\"price\"\r\n                        name=\"price\"\r\n                        required\r\n                        placeholder=\"Giá tiền\"\r\n                    />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Thêm\r\n                        </Button>\r\n                    </Form.Group>\r\n                    </Form>\r\n                    </Col>\r\n\r\n                </Row>\r\n\r\n            \r\n        \r\n          \r\n        \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"danger\" onClick={this.props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        </div>\r\n        );\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport \"./Login.css\";\r\n// import { BallBeat } from 'react-pure-loaders';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass LoginPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numberphone: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      isLogined: false,\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    if(JSON.parse(localStorage.getItem(\"role\")) === \"admin\"){\r\n      this.redirectLogined()\r\n    }\r\n\r\n  \r\n  }\r\n  stopLoading = () => {\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  startLoading = () => {\r\n    this.setState({ loading: true });\r\n  };\r\n  redirectLogined = () => {\r\n    this.setState({ isLogined: true });\r\n  };\r\n  redirectStart = () => {\r\n    if(JSON.parse(localStorage.getItem(\"role\"))==null){\r\n      alert(\"Đăng Nhập Thất Bại\")\r\n    }\r\n    else{\r\n      alert(\"Đăng Nhập Thành Công\")\r\n      this.setState({ isLogined: true });\r\n    }\r\n  \r\n\r\n  };\r\n  // loginSuccess() {\r\n  //   // let path = \"/qldichvu\";\r\n  //   // history.push(path);\r\n  // }\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    var numberphone = this.state.numberphone;\r\n    var password = this.state.password;\r\n    this.startLoading();\r\n\r\n    var axios = require(\"axios\");\r\n    var data = JSON.stringify({\r\n      numberPhone: numberphone.toString(),\r\n      passWord: password,\r\n    });\r\n\r\n    var config = {\r\n      method: \"post\",\r\n      url:\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/user/login\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: data,\r\n    };\r\n    axios(config)\r\n      .then(function (response) {\r\n        localStorage.setItem(\"data\", JSON.stringify(response.data));\r\n        localStorage.setItem(\"role\", JSON.stringify(response.data.role));\r\n        \r\n      })\r\n      .then(this.stopLoading)\r\n      .then(this.redirectStart)\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLogined === true) {\r\n      return <Redirect to=\"/qldichvu\" />;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className=\"login-box container\">\r\n            <div className=\"login-logo\">\r\n              <a>\r\n                <b>Barber</b>Shop\r\n              </a>\r\n            </div>\r\n            <div className=\"card\">\r\n              <div className=\"card-body login-card-body \">\r\n                <p className=\"login-box-msg\">Đăng nhập để tiếp tục</p>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                  <Form.Group controlId=\"numberphone\">\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      placeholder=\"Số điện thoại\"\r\n                      onChange={(e) =>\r\n                        this.setState({ numberphone: e.target.value })\r\n                      }\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"password\">\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"Mật khẩu\"\r\n                      onChange={(e) =>\r\n                        this.setState({ password: e.target.value })\r\n                      }\r\n                    />\r\n                  </Form.Group>\r\n                  {this.state.loading ? (\r\n                    <Loader\r\n                      type=\"ThreeDots\"\r\n                      color=\"#00BFFF\"\r\n                      height={80}\r\n                      width={80}\r\n                    />\r\n                  ) : null}\r\n                  <Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                      Đăng Nhập\r\n                    </Button>\r\n                  </Form.Group>\r\n                </Form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // return (\r\n\r\n    // );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nconst PrivateRouter = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      JSON.parse(localStorage.getItem(\"role\")) === null ? (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/admin/login\",\r\n          }}\r\n        />\r\n      ) : JSON.parse(localStorage.getItem(\"role\")) === \"admin\" ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/notAdmin\",\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\nexport default PrivateRouter;\r\n","import { createContext, useContext } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}","import React from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport \"./Login.css\";\r\nimport axios from \"axios\";\r\n\r\n// import { BallBeat } from 'react-pure-loaders';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport SkeletonLoader from \"tiny-skeleton-loader-react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport Menu from \"../components/Menu\";\r\nimport Footer from \"../components/Footer\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nclass ThongKe extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      checked: \"month\",\r\n      month: null,\r\n      year: null,\r\n      fromDate: null,\r\n      endDate: null,\r\n      isLoading: false,\r\n      allData: null,\r\n      filterKey: \"all\",\r\n      orderFilter: null,\r\n      idServiceArr: [],\r\n      nameServiceArr: [],\r\n      totalServiceArr: [],\r\n      countServiceArr: [],\r\n      orderLastest: [],\r\n      moneyServiceArr: [],\r\n      voucherArr: [],\r\n      byType: [],\r\n    };\r\n  }\r\n  getTime = () => {\r\n    var dd = new Date(this.state.year, this.state.month - 1, 1).getDate();\r\n    var mm = new Date(this.state.year, this.state.month - 1, 1).getMonth() + 1;\r\n    var yyyy = new Date(this.state.year, this.state.month - 1, 1).getFullYear();\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var dd1 = new Date(this.state.year, this.state.month, 0).getDate();\r\n    var mm1 = new Date(this.state.year, this.state.month, 0).getMonth() + 1;\r\n    var yyyy1 = new Date(this.state.year, this.state.month, 0).getFullYear();\r\n    if (dd1 < 10) {\r\n      dd1 = \"0\" + dd1;\r\n    }\r\n\r\n    if (mm1 < 10) {\r\n      mm1 = \"0\" + mm1;\r\n    }\r\n    this.setState({\r\n      fromDate: dd + \"-\" + mm + \"-\" + yyyy,\r\n      endDate: dd1 + \"-\" + mm1 + \"-\" + yyyy1,\r\n    });\r\n    this.refreshList(dd, mm, yyyy, dd1, mm1, yyyy1);\r\n  };\r\n\r\n  change = (event) => {\r\n    console.log(event.target.value);\r\n    this.filter(event.target.value);\r\n  };\r\n  componentWillMount() {\r\n    var d = new Date();\r\n    var monthNow = d.getMonth() + 1;\r\n    var yearNow = d.getFullYear();\r\n\r\n    this.setState({\r\n      month: monthNow.toString(),\r\n      year: yearNow.toString(),\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.getTime();\r\n  }\r\n\r\n  refreshList = (dd, mm, yyyy, dd1, mm1, yyyy1) => {\r\n    this.setState({ isLoading: true });\r\n    axios\r\n      .get(\r\n        \"https://divine-sky-478f.datntps09954.workers.dev/?https://young-dusk-10057.herokuapp.com/api/v1/order/\" +\r\n          dd +\r\n          \"-\" +\r\n          mm +\r\n          \"-\" +\r\n          yyyy +\r\n          \"/\" +\r\n          dd1 +\r\n          \"-\" +\r\n          mm1 +\r\n          \"-\" +\r\n          yyyy1\r\n      )\r\n      .then((res) => this.filterPayoutSuccess(res))\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  };\r\n  filterPayoutSuccess = (res) => {\r\n    let beforeFilter = res.data.filter((order) =>\r\n      order.status.includes(\"cancel\")\r\n    );\r\n    let result = {\r\n      idServiceArr: [],\r\n      nameServiceArr: [],\r\n      countServiceArr: [],\r\n      totalServiceArr: [],\r\n      moneyServiceArr: [],\r\n      voucherArr: [],\r\n      byType: [0,0,0,0],\r\n      listType:[\"combo\",\"cat\",\"uon\",\"nhuom\"]\r\n    };\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? null\r\n        : (result.idServiceArr.push(order.service.idService),\r\n          result.nameServiceArr.push(order.service.name),\r\n          result.countServiceArr.push(0),\r\n          result.voucherArr.push(0),\r\n          result.totalServiceArr.push(0))\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.moneyServiceArr.includes(order.service.price)\r\n        ? null\r\n        : result.moneyServiceArr.push(order.service.price)\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      order.voucher === null\r\n        ? null\r\n        : (result.voucherArr[\r\n            result.idServiceArr.indexOf(order.service.idService)\r\n          ] =\r\n            result.voucherArr[\r\n              result.idServiceArr.indexOf(order.service.idService)\r\n            ] + order.voucher.price)\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? null\r\n        : (result.idServiceArr.push(order.service.idService),\r\n          result.nameServiceArr.push(order.service.name),\r\n          result.countServiceArr.push(0),\r\n          result.totalServiceArr.push(0))\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? (result.countServiceArr[\r\n            result.idServiceArr.indexOf(order.service.idService)\r\n          ] =\r\n            result.countServiceArr[\r\n              result.idServiceArr.indexOf(order.service.idService)\r\n            ] + 1)\r\n        : null\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? (result.totalServiceArr[\r\n            result.idServiceArr.indexOf(order.service.idService)\r\n          ] += parseFloat(order.totalPrice))\r\n        : null\r\n    );\r\n    //loc list type\r\n    // beforeFilter.forEach((order) =>\r\n    // result.listType.includes(order.service.type)\r\n    //   ? (\r\n    //     result.byType.push(0)\r\n    // ):null);\r\n    ///dang sua by type\r\n    beforeFilter.forEach((order) =>\r\n    result.listType.includes(order.service.type)\r\n        ? (result.byType[\r\n            result.listType.indexOf(order.service.type)\r\n          ] +=1)\r\n        : null\r\n    );\r\n    this.setState({\r\n      orderFilter: beforeFilter,\r\n      allData: res.data,\r\n      idServiceArr: result.idServiceArr,\r\n      nameServiceArr: result.nameServiceArr,\r\n      countServiceArr: result.countServiceArr,\r\n      totalServiceArr: result.totalServiceArr,\r\n      orderLastest: beforeFilter,\r\n      isLoading: false,\r\n      moneyServiceArr: result.moneyServiceArr,\r\n      voucherArr: result.voucherArr,\r\n      byType: result.byType,\r\n      listType: result.listType,\r\n    });\r\n  };\r\n  filterPayoutSuccessOnChange = (data) => {\r\n    let beforeFilter = data.filter((order) => order.status.includes(\"PayoutSuccess\"));\r\n    let result = {\r\n      idServiceArr: [],\r\n      nameServiceArr: [],\r\n      countServiceArr: [],\r\n      totalServiceArr: [],\r\n      moneyServiceArr: [],\r\n    };\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? null\r\n        : (result.idServiceArr.push(order.service.idService),\r\n          result.nameServiceArr.push(order.service.name),\r\n          result.countServiceArr.push(0),\r\n          result.totalServiceArr.push(0))\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.moneyServiceArr.includes(order.service.price)\r\n        ? null\r\n        : result.moneyServiceArr.push(order.service.price)\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? null\r\n        : (result.idServiceArr.push(order.service.idService),\r\n          result.nameServiceArr.push(order.service.name),\r\n          result.countServiceArr.push(0),\r\n          result.totalServiceArr.push(0))\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? (result.countServiceArr[\r\n            result.idServiceArr.indexOf(order.service.idService)\r\n          ] =\r\n            result.countServiceArr[\r\n              result.idServiceArr.indexOf(order.service.idService)\r\n            ] + 1)\r\n        : null\r\n    );\r\n    beforeFilter.forEach((order) =>\r\n      result.idServiceArr.includes(order.service.idService)\r\n        ? (result.totalServiceArr[\r\n            result.idServiceArr.indexOf(order.service.idService)\r\n          ] += parseFloat(order.totalPrice))\r\n        : null\r\n    );\r\n    // beforeFilter.forEach((order) =>\r\n    //   result.idServiceArr.includes(order.service.idService)\r\n    //     ? (result.totalServiceArr[\r\n    //         result.idServiceArr.indexOf(order.service.idService)\r\n    //       ] += parseFloat(order.totalPrice))\r\n    //     : null\r\n    // );\r\n    this.setState({\r\n      allData: data,\r\n      idServiceArr: result.idServiceArr,\r\n      nameServiceArr: result.nameServiceArr,\r\n      countServiceArr: result.countServiceArr,\r\n      totalServiceArr: result.totalServiceArr,\r\n      orderLastest: beforeFilter,\r\n      isLoading: false,\r\n      moneyServiceArr: result.moneyServiceArr,\r\n    });\r\n  };\r\n  onChangeFilter = (e) => {\r\n    this.filter(e.target.value);\r\n  };\r\n  filter = (data) => {\r\n    if (data === \"all\") {\r\n      this.setState({\r\n        orderLastest: this.state.orderFilter,\r\n        filterKey: data,\r\n      });\r\n      this.filterPayoutSuccessOnChange(this.state.orderFilter);\r\n    } else {\r\n      let beforeFilter = this.state.orderFilter.filter((order) =>\r\n        order.service.type.includes(data)\r\n      );\r\n      this.setState({\r\n        filterKey: data,\r\n        orderLastest: beforeFilter,\r\n      });\r\n      this.filterPayoutSuccessOnChange(beforeFilter);\r\n    }\r\n  };\r\n  updateChecked = (e) => {\r\n    if (e.target.checked) {\r\n      this.setState({\r\n        checked: e.target.value,\r\n      });\r\n      if (e.target.value === \"month\") {\r\n        this.defaultMonthYear();\r\n      }\r\n      if (e.target.value === \"year\") {\r\n        this.defaultYear();\r\n      }\r\n      if (e.target.value === \"monthyear\") {\r\n        this.defaultMonthYear();\r\n      }\r\n    }\r\n  };\r\n\r\n  defaultYear = () => {\r\n    var defaultyyyy = new Date().getFullYear();\r\n    this.setState({\r\n      year: defaultyyyy.toString(),\r\n    });\r\n    var dd = new Date(defaultyyyy, 0, 1).getDate();\r\n    var mm = new Date(defaultyyyy, 0, 1).getMonth() + 1;\r\n    var yyyy = new Date(defaultyyyy, 0, 1).getFullYear();\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var dd1 = new Date(defaultyyyy, 12, 0).getDate();\r\n    var mm1 = new Date(defaultyyyy, 12, 0).getMonth() + 1;\r\n    var yyyy1 = new Date(defaultyyyy, 12, 0).getFullYear();\r\n    if (dd1 < 10) {\r\n      dd1 = \"0\" + dd1;\r\n    }\r\n\r\n    if (mm1 < 10) {\r\n      mm1 = \"0\" + mm1;\r\n    }\r\n    this.refreshList(dd, mm, yyyy, dd1, mm1, yyyy1);\r\n  };\r\n  defaultMonthYear = () => {\r\n    var mm = new Date().getMonth() + 1;\r\n    var yyyy = new Date().getFullYear();\r\n    var dd = new Date(yyyy, mm - 1, 1).getDate();\r\n    this.setState({\r\n      month: mm.toString(),\r\n      year: yyyy.toString(),\r\n    });\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var mm1 = new Date().getMonth() + 1;\r\n    var yyyy1 = new Date().getFullYear();\r\n    var dd1 = new Date(yyyy1, mm1, 0).getDate();\r\n    this.setState();\r\n    if (dd1 < 10) {\r\n      dd1 = \"0\" + dd1;\r\n    }\r\n\r\n    if (mm1 < 10) {\r\n      mm1 = \"0\" + mm1;\r\n    }\r\n    this.refreshList(dd, mm, yyyy, dd1, mm1, yyyy1);\r\n  };\r\n  onChangeMonth = (event) => {\r\n    this.setState({\r\n      month: event.target.value,\r\n    });\r\n    var dd = new Date(this.state.year, event.target.value - 1, 1).getDate();\r\n    var mm =\r\n      new Date(this.state.year, event.target.value - 1, 1).getMonth() + 1;\r\n    var yyyy = new Date(\r\n      this.state.year,\r\n      event.target.value - 1,\r\n      1\r\n    ).getFullYear();\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var dd1 = new Date(this.state.year, event.target.value, 0).getDate();\r\n    var mm1 = new Date(this.state.year, event.target.value, 0).getMonth() + 1;\r\n    var yyyy1 = new Date(this.state.year, event.target.value, 0).getFullYear();\r\n    if (dd1 < 10) {\r\n      dd1 = \"0\" + dd1;\r\n    }\r\n\r\n    if (mm1 < 10) {\r\n      mm1 = \"0\" + mm1;\r\n    }\r\n    this.refreshList(dd, mm, yyyy, dd1, mm1, yyyy1);\r\n  };\r\n  onChangeYear2 = (event) => {\r\n    this.setState({\r\n      year: event.target.value,\r\n    });\r\n    var dd = new Date(event.target.value, this.state.month - 1, 1).getDate();\r\n    var mm =\r\n      new Date(event.target.value, this.state.month - 1, 1).getMonth() + 1;\r\n    var yyyy = new Date(\r\n      event.target.value,\r\n      this.state.month - 1,\r\n      1\r\n    ).getFullYear();\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var dd1 = new Date(event.target.value, this.state.month, 0).getDate();\r\n    var mm1 = new Date(event.target.value, this.state.month, 0).getMonth() + 1;\r\n    var yyyy1 = new Date(event.target.value, this.state.month, 0).getFullYear();\r\n    if (dd1 < 10) {\r\n      dd1 = \"0\" + dd1;\r\n    }\r\n\r\n    if (mm1 < 10) {\r\n      mm1 = \"0\" + mm1;\r\n    }\r\n    this.refreshList(dd, mm, yyyy, dd1, mm1, yyyy1);\r\n  };\r\n  onChangeYear = (event) => {\r\n    this.setState({\r\n      year: event.target.value,\r\n    });\r\n    var dd = new Date(event.target.value, 0, 1).getDate();\r\n    var mm = new Date(event.target.value, 0, 1).getMonth() + 1;\r\n    var yyyy = new Date(event.target.value, 0, 1).getFullYear();\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    var dd1 = new Date(event.target.value, 12, 0).getDate();\r\n    var mm1 = new Date(event.target.value, 12, 0).getMonth() + 1;\r\n    var yyyy1 = new Date(event.target.value, 12, 0).getFullYear();\r\n    if (dd1 < 10) {\r\n      dd1 = \"0\" + dd1;\r\n    }\r\n\r\n    if (mm1 < 10) {\r\n      mm1 = \"0\" + mm1;\r\n    }\r\n    this.refreshList(dd, mm, yyyy, dd1, mm1, yyyy1);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      checked,\r\n      isLoading,\r\n      filterKey,\r\n      totalServiceArr,\r\n      idServiceArr,\r\n      countServiceArr,\r\n      nameServiceArr,\r\n      moneyServiceArr,\r\n      voucherArr,\r\n      byType,\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Menu />\r\n        <div className=\"content-wrapper\">\r\n          <section className=\"content-header\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col-sm-6\">\r\n                  <h1>Thống kê doanh thu</h1>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h3 className=\"card-title\">Thống kê doanh thu</h3>\r\n                    </div>\r\n                    {/* /.card-header */}\r\n                    <div className=\"card-body\">\r\n                      <FormControl component=\"fieldset\">\r\n                        <FormLabel component=\"legend\">Thống kê theo</FormLabel>\r\n                        <RadioGroup\r\n                          row\r\n                          aria-label=\"position\"\r\n                          name=\"position\"\r\n                          defaultValue={this.state.checked}\r\n                        >\r\n                          <FormControlLabel\r\n                            value=\"month\"\r\n                            control={<Radio color=\"primary\" />}\r\n                            label=\"Tháng\"\r\n                            onChange={this.updateChecked}\r\n                          />\r\n                          <FormControlLabel\r\n                            value=\"year\"\r\n                            control={<Radio color=\"primary\" />}\r\n                            onChange={this.updateChecked}\r\n                            label=\"Năm\"\r\n                          />\r\n                          <FormControlLabel\r\n                            value=\"monthyear\"\r\n                            control={<Radio color=\"primary\" />}\r\n                            onChange={this.updateChecked}\r\n                            label=\"Tháng,Năm\"\r\n                          />\r\n                        </RadioGroup>\r\n                      </FormControl>\r\n\r\n                      <div className=\"row\">\r\n                        <div className=\"col-sm-2\">\r\n                          <div className=\"form-group\">\r\n                            <label>Loại dịch vụ</label>\r\n                            <select\r\n                              className=\"custom-select\"\r\n                              onChange={this.onChangeFilter}\r\n                            >\r\n                              <option value=\"all\">Tất cả</option>\r\n                              <option value=\"combo\">Combo</option>\r\n                              <option value=\"cat\">Cắt tóc</option>\r\n                              <option value=\"uon\">Uốn tóc</option>\r\n                              <option value=\"nhuom\">Nhuộm tóc</option>\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                        {checked == \"month\" ? (\r\n                          <div className=\"col-sm-2\">\r\n                            <div className=\"form-group\">\r\n                              <label>Tháng</label>\r\n                              <select\r\n                                className=\"custom-select\"\r\n                                onChange={this.onChangeMonth}\r\n                                value={this.state.month}\r\n                              >\r\n                                <option value=\"1\">Tháng 1</option>\r\n                                <option value=\"2\">Tháng 2</option>\r\n                                <option value=\"3\">Tháng 3</option>\r\n                                <option value=\"4\">Tháng 4</option>\r\n                                <option value=\"5\">Tháng 5</option>\r\n                                <option value=\"6\">Tháng 6</option>\r\n                                <option value=\"7\">Tháng 7</option>\r\n                                <option value=\"8\">Tháng 8</option>\r\n                                <option value=\"9\">Tháng 9</option>\r\n                                <option value=\"10\">Tháng 10</option>\r\n                                <option value=\"11\">Tháng 11</option>\r\n                                <option value=\"12\">Tháng 12</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                        ) : null}\r\n\r\n                        {checked == \"year\" ? (\r\n                          <div className=\"col-sm-2\">\r\n                            <div className=\"form-group\">\r\n                              <label>Năm</label>\r\n                              <select\r\n                                className=\"custom-select\"\r\n                                onChange={this.onChangeYear}\r\n                                value={this.state.year}\r\n                              >\r\n                                <option value=\"2018\">2018</option>\r\n                                <option value=\"2019\">2019</option>\r\n                                <option value=\"2020\">2020</option>\r\n                                <option value=\"2021\">2021</option>\r\n                                <option value=\"2022\">2022</option>\r\n                                <option value=\"2023\">2023</option>\r\n                                <option value=\"2024\">2024</option>\r\n                                <option value=\"2025\">2025</option>\r\n                                <option value=\"2026\">2026</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                        ) : null}\r\n                        {checked == \"monthyear\" ? (\r\n                          <div className=\"col-sm-2\">\r\n                            <div className=\"form-group\">\r\n                              <label>Tháng</label>\r\n                              <select\r\n                                className=\"custom-select\"\r\n                                onChange={this.onChangeMonth}\r\n                                value={this.state.month}\r\n                              >\r\n                                <option value=\"1\">Tháng 1</option>\r\n                                <option value=\"2\">Tháng 2</option>\r\n                                <option value=\"3\">Tháng 3</option>\r\n                                <option value=\"4\">Tháng 4</option>\r\n                                <option value=\"5\">Tháng 5</option>\r\n                                <option value=\"6\">Tháng 6</option>\r\n                                <option value=\"7\">Tháng 7</option>\r\n                                <option value=\"8\">Tháng 8</option>\r\n                                <option value=\"9\">Tháng 9</option>\r\n                                <option value=\"10\">Tháng 10</option>\r\n                                <option value=\"11\">Tháng 11</option>\r\n                                <option value=\"12\">Tháng 12</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                        ) : null}\r\n                        {checked == \"monthyear\" ? (\r\n                          <div className=\"col-sm-2\">\r\n                            <div className=\"form-group\">\r\n                              <label>Năm</label>\r\n                              <select\r\n                                className=\"custom-select\"\r\n                                onChange={this.onChangeYear2}\r\n                                value={this.state.year}\r\n                              >\r\n                                <option value=\"2018\">2018</option>\r\n                                <option value=\"2019\">2019</option>\r\n                                <option value=\"2020\">2020</option>\r\n                                <option value=\"2021\">2021</option>\r\n                                <option value=\"2022\">2022</option>\r\n                                <option value=\"2023\">2023</option>\r\n                                <option value=\"2024\">2024</option>\r\n                                <option value=\"2025\">2025</option>\r\n                                <option value=\"2026\">2026</option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                        ) : null}\r\n                      </div>\r\n                      {isLoading ? (\r\n                        <SkeletonLoader\r\n                          style={{ width: \"100%\", height: 700 }}\r\n                        />\r\n                      ) : (\r\n                        <table\r\n                          id=\"example2\"\r\n                          className=\"table table-bordered table-hover\"\r\n                        >\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Tên dịch vụ</th>\r\n                              <th>Số lượng đặt hàng </th>\r\n                              <th>Giá mỗi lượt</th>\r\n                              <th>Tổng tiền khuyến mại</th>\r\n                              <th>Tổng tiền</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {idServiceArr.map((item, index) => (\r\n                              <tr>\r\n                                <th>{nameServiceArr[index]}</th>\r\n                                <th>{countServiceArr[index]}</th>\r\n                                <th>{moneyServiceArr[index]}</th>\r\n                                <th>{voucherArr[index]}</th>\r\n                                <th>{totalServiceArr[index]}</th>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                          <tbody></tbody>\r\n                        </table>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  {\r\n                  filterKey==\"all\"?(\r\n                  checked==\"monthyear\"?\r\n                  (isLoading ? (\r\n                    <SkeletonLoader style={{ width: \"100%\", height: 700 }} />\r\n                  ) : (\r\n                    <div className=\"card customChart\">\r\n                      <Bar\r\n                        data={{\r\n                          labels: [\r\n                            \"Tất Cả\",\r\n                            \"Combo\",\r\n                            \"Cắt Tóc\",\r\n                            \"Uốn Tóc\",\r\n                            \"Nhuộm Tóc\",\r\n                          ],\r\n                          datasets: [\r\n                            {\r\n                              label: \"Lượt Khách\",\r\n                              backgroundColor: [\r\n                                \"#3e95cd\",\r\n                                \"#8e5ea2\",\r\n                                \"#3cba9f\",\r\n                                \"#e8c3b9\",\r\n                                \"#c45850\",\r\n                              ],\r\n                              data: [byType[0]+byType[1]+byType[2]+byType[3], byType[0], byType[1], byType[2], byType[3]],\r\n                            },\r\n                          ],\r\n                        }}\r\n                        options={{\r\n                          legend: { display: false },\r\n                          title: {\r\n                            display: true,\r\n                            text:\r\n                              \"Bảng thống kê lượt khách theo loại dịch vụ của \" +\r\n                              this.state.month +\r\n                              \"-\" +\r\n                              this.state.year,\r\n                          },\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )):null):null}\r\n                  {\r\n                  filterKey==\"all\"?(\r\n                  checked==\"month\"?\r\n                  (isLoading ? (\r\n                    <SkeletonLoader style={{ width: \"100%\", height: 700 }} />\r\n                  ) : (\r\n                    <div className=\"card customChart\">\r\n                      <Bar\r\n                        data={{\r\n                          labels: [\r\n                            \"Tất Cả\",\r\n                            \"Combo\",\r\n                            \"Cắt Tóc\",\r\n                            \"Uốn Tóc\",\r\n                            \"Nhuộm Tóc\",\r\n                          ],\r\n                          datasets: [\r\n                            {\r\n                              label: \"Lượt Khách\",\r\n                              backgroundColor: [\r\n                                \"#3e95cd\",\r\n                                \"#8e5ea2\",\r\n                                \"#3cba9f\",\r\n                                \"#e8c3b9\",\r\n                                \"#c45850\",\r\n                              ],\r\n                              data: [byType[0]+byType[1]+byType[2]+byType[3], byType[0], byType[1], byType[2], byType[3]],\r\n                            },\r\n                          ],\r\n                        }}\r\n                        options={{\r\n                          legend: { display: false },\r\n                          title: {\r\n                            display: true,\r\n                            text:\r\n                              \"Bảng thống kê lượt khách theo loại dịch vụ của \" +\r\n                              this.state.month +\r\n                              \"-\" +\r\n                              this.state.year,\r\n                          },\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )):null):null}\r\n                   {\r\n                  filterKey==\"all\"?(\r\n                  checked==\"year\"?\r\n                  (isLoading ? (\r\n                    <SkeletonLoader style={{ width: \"100%\", height: 700 }} />\r\n                  ) : (\r\n                    <div className=\"card customChart\">\r\n                      <Bar\r\n                        data={{\r\n                          labels: [\r\n                            \"Tất Cả\",\r\n                            \"Combo\",\r\n                            \"Cắt Tóc\",\r\n                            \"Uốn Tóc\",\r\n                            \"Nhuộm Tóc\",\r\n                          ],\r\n                          datasets: [\r\n                            {\r\n                              label: \"Lượt Khách\",\r\n                              backgroundColor: [\r\n                                \"#3e95cd\",\r\n                                \"#8e5ea2\",\r\n                                \"#3cba9f\",\r\n                                \"#e8c3b9\",\r\n                                \"#c45850\",\r\n                              ],\r\n                              data: [byType[0]+byType[1]+byType[2]+byType[3], byType[0], byType[1], byType[2], byType[3]],\r\n                            },\r\n                          ],\r\n                        }}\r\n                        options={{\r\n                          legend: { display: false },\r\n                          title: {\r\n                            display: true,\r\n                            text:\r\n                              \"Bảng thống kê lượt khách theo loại dịch vụ của năm \" +this.state.year,\r\n                          },\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )):null):null}\r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ThongKe;\r\n","import React, { Component } from \"react\";\nimport QlDichvu from \"./pages/QlDichvu\";\nimport QlTintuc from \"./pages/QlTintuc\";\nimport QlUser from \"./pages/QlUser\";\nimport QlKhuyenMai from \"./pages/QlKhuyenMai\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport qlDonDatHang from \"./pages/QlDonDatHang\";\nimport LoginPage from \"./pages/LoginPage\";\nimport PrivateRouter from \"./components/PrivateRouter\";\nimport { AuthContext } from \"./context/auth\";\nimport ThongKe from \"./pages/ThongKe\"\nimport PageNotFound from'./pages/PageNotFound'\nexport default class App extends Component {\n\n  render() {\n\n    return (\n      <AuthContext.Provider value={false}>\n        <BrowserRouter>\n          <div>\n            <Switch>\n\n              <Route path=\"/admin/login\">\n                <LoginPage/>\n              </Route>\n              <PrivateRouter path=\"/qlNguoiDung\" component={QlUser} />\n              <PrivateRouter path=\"/qldichvu\" component={QlDichvu} />\n              <PrivateRouter path=\"/qltintuc\" component={QlTintuc} />\n              <PrivateRouter path=\"/qlDonDatHang\" component={qlDonDatHang} />\n              <PrivateRouter path=\"/qlKhuyenMai\" component={QlKhuyenMai} />\n              <PrivateRouter path=\"/thongke\" component={ThongKe} />\n              <Route  component={ LoginPage}/>\n\n            </Switch>\n          </div>\n        </BrowserRouter>\n      </AuthContext.Provider>\n    );\n  }\n}\n","import React, { Component } from \"react\";\r\nimport \"./pageNotFound.css\"\r\nexport default class PageNotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div id=\"notfound\">\r\n          <div className=\"notfound\">\r\n            <div className=\"notfound-404\">\r\n              <h3>Trang không tìm thấy trang này</h3>\r\n              <h1>\r\n                <span>4</span>\r\n                <span>0</span>\r\n                <span>4</span>\r\n              </h1>\r\n            </div>\r\n            <h2>Xin lỗi, đường dẫn không tồn tại</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}